(function(f){f.fn.SwaggPlayer=function(p){var q={};q.id=this.attr("id");if(q.id){if(console&&console.time){console.time("SwaggPlayerStart")}e.initializeSoundManager();if(soundManager){var o=f.extend(p,q),n=new Controller();n.init(o);window.INSTANCES.push(n);console.log("There are ======================= "+INSTANCES.length+" instances of swaggplayer")}else{f.error("An error occured while initializing soundManager!")}}else{f.error("Swagg Player element missing id attribute!")}};var c=function(n){this.PLAYER=n;this.props={};this.callbacks={};this.consoleSupport=false;if(console){this.consoleSupport=true}};var b=function(o,n){this.PLAYER=o;this.log=o._config.consoleSupport;this.debug=o._config.props.debug;this.id=n};f.extend(b.prototype,{error:function(n){if(this.debug===true&&this.log===true){console.error("Swagg Player::"+this.id+"::Error::"+n)}},info:function(n){if(this.debug===true&&this.log===true){console.log("Swagg Player::"+this.id+"::Info::"+n)}},warn:function(n){if(this.debug===true&&this.log===true){console.warn("Swagg Player::"+this.id+"::Warning::"+n)}},apierror:function(n){if(this.debug===true&&this.log===true){console.error("Swagg Player::"+this.id+"::API Error::"+n)}}});var d=function(n){this.player=n};f.extend(d.prototype,{createSound:function(n){var p=this,r=p.player._html,q=p.player._config,s=p.player._data.songs,u=n.id;if(r.useArt===true&&n.thumb!==undefined){n.configureArt();n.image=new Image();n.image.src=n.thumb}if(!s[n.id]){p.player._data.songs.push(n)}var o=p.player._html.player+"-song-"+u.toString();var t=window.soundManager.createSound({id:o,url:n.url,autoLoad:false,usePolicyFile:false,onplay:function(){p.player._onplay(this)},onpause:function(){p.player._onpause(this)},onstop:function(){p.player._onstop(this)},onfinish:function(){p.player._onstop(this)},onresume:function(){p.player._onresume(this)},whileplaying:function(){p.player._whileplaying(this)},whileloading:function(){p.player._whileloading(this)},onerror:function(){p.player._onerror(this)}});t.id=o;t.repeat=p.player.internal.repeat;p.player._data.last_song=n.id;if(r.playList!==undefined&&r.playList===true){p.player.createElement(t)}return t}});var h=function(n,o){this.url=n.url;this.artist=n.artist;this.title=n.title;this.thumb=n.thumb;this.id=o};f.extend(h.prototype,{configureArt:function(n){this.image=new Image();this.image.src=n||this.thumb}});var i=function(n){this.PLAYER=n,this.last_song=-1;this.songs=[];this.curr_sprite_class="";this.isIe=l.isIe();this.curr_song=-1;this.vol_interval=20;this.interval_id=-1};f.extend(i.prototype,{processSongs:function(n){var u=this.PLAYER,p=new Array(),t=n.length,o=u._html,q=u._config;for(var s=0;s<t;s++){var r=new h(n[s],s);if(o.useArt===true&&n[s].thumb!==undefined){r.configureArt(n[s].thumb);n[s].image=new Image();n[s].image.src=n[s].thumb}p.push(r)}this.songs=p;this.last_song=this.songs.length-1},getSongs:function(){var n=this.PLAYER._config.props.data;if(typeof n==="string"){f.ajax({type:"GET",url:n,dataType:"json",success:function(o){_data.processSongs(o)},error:function(q,o,p){_logger.error("There was a problem fetching your songs from the server: "+p)}})}else{this.processSongs(n)}}});var j=function(n){this.PLAYER=n,this.div=null;this.player=null;this.playlist=null;this.art=null;this.loading_indication=null;this.progress_wrapper=null;this.bar=null;this.loaded=null;this.song_info=null;this.controls_div=null;this.bridge_data=null;this.artist=null;this.title=null;this.useArt=false;this.playList=false;this.user_art_css={height:{height:0,width:0}};this.metadata={progressWrapperWidth:0}};f.extend(j.prototype,{initHtml:function(n){this.PLAYER._logger.info("initHtml()");this.player=n.id;this.playlist=f("#"+this.player+" .swagg-player-list");this.art=f("#"+this.player+" .swagg-player-album-art");this.loading_indication=f("#"+this.player+" img.swagg-player-loading");this.progress_wrapper=f("#"+this.player+" .swagg-player-progress-wrapper");this.bar=f("#"+this.player+" .swagg-player-bar");this.loaded=f("#"+this.player+" .swagg-player-loaded");this.song_info=f("#"+this.player+" .swagg-player-song-info");this.controls_div=f("#"+this.player+" .swagg-player-controls");this.artist=f("#"+this.player+" .swagg-player-artist");this.title=f("#"+this.player+" .swagg-player-title");this.user_art_css={height:0,width:0};this.useArt=(this.art.length>0);this.playList=(this.playlist.length>0)},setupProgressBar:function(){this.PLAYER._logger.info("SetupProgressBar()");if(this.progress_wrapper.length>0){var q=f("#"+this.player+" div.swagg-player-progress-wrapper"),n=q.css("height"),p=f("<div></div>"),o=f("<div></div>");o.addClass("swagg-player-loaded");o.css("height",n).css("width",0).css("float","left").css("margin-left","0");q.append(o);this.loaded=f("#"+this.player+" div.swagg-player-loaded");p.addClass("swagg-player-bar");p.css("height",n).css("width",0).css("float","left").css("margin-left","auto");o.append(p);this.bar=f("#"+this.player+" div.swagg-player-bar");this.metadata.progressWrapperWidth=parseFloat(this.progress_wrapper.css("width"))}}});var g=function(n){this.PLAYER=n;this.play=null;this.skip=null;this.back=null;this.stop=null};f.extend(g.prototype,{setup:function(o){var q=this.PLAYER,n=q._imageLoader;this.play=f("#"+q._html.player+" .swagg-player-play-button");this.skip=f("#"+q._html.player+" .swagg-player-skip-button");this.back=f("#"+q._html.player+" .swagg-player-back-button");this.stop=f("#"+q._html.player+" .swagg-player-stop-button");if(n.play!==null){this.play.css("cursor","pointer")}if(n.skip!==null){this.skip.css("cursor","pointer")}if(n.back!==null){this.back.css("cursor","pointer")}if(n.stop!==null){this.stop.css("cursor","pointer")}o.css("cursor","pointer")}});var m=function(n){this.PLAYER=n};f.extend(m.prototype,{bindControllerEvents:function(){var s=this.PLAYER,o=s._controls,r=s._imageLoader.imagesLoaded,q=s._config,n=s._imageLoader,t=q.props.buttonHover||false;s._logger.info("Binding controller button events");o.play.bind({click:function(){s.play("playlink click",s._data.curr_song);return false},mouseover:function(){if(r===true&&t){f(this).attr("src",n.playOver.src)}},mouseout:function(){if(r===true&&t){f(this).attr("src",n.play.src)}}});o.skip.bind({click:function(){s.skip(1);return false},mouseover:function(){if(r===true&&t){f(this).attr("src",n.skipOver.src)}},mouseout:function(){if(r===true&&t){f(this).attr("src",n.skip.src)}}});o.stop.bind({click:function(){s.stopMusic(s._data.curr_song);return false},mouseover:function(){if(r===true&&t){f(this).attr("src",n.stopOver.src)}},mouseout:function(){if(r===true&&t){f(this).attr("src",n.stop.src)}}});o.back.bind({click:function(){s.skip(0);return false},mouseover:function(){if(r===true&&t){f(this).attr("src",n.backOver.src)}},mouseout:function(){if(r===true&&t){f(this).attr("src",n.back.src)}}})},bindMediaKeyEvents:function(){var o=this.PLAYER,n=o._data.curr_song;o._logger.info("Binding media key events");f(document).keydown(function(p){if(!p){p=window.event}switch(p.which){case 179:o.play("Media key event switch",n);return false;case 178:o.stopMusic(n);return false;case 176:o.skip(1);return false;case 177:o.skip(0);return false;case 175:o.volume(n,1);return false;case 174:o.volume(n,0);return false}})},setupSeek:function(){var n=this.PLAYER;_html_=n._html;_html_.loaded.css("cursor","pointer").bind({click:function(u){var o=_html_.player+"-song-"+n._data.curr_song,y=_html_.metadata.progressWrapperWidth,p=soundManager.getSoundById(o),w=u.pageX-_html_.loaded.offset().left,v=p.bytesLoaded/p.bytesTotal,r=n.getDuration(p),t=w/y,s=y*v,q=Math.round(t*r);if(s>=y){p.setPosition(q)}}});_html_.loaded.bind("mouseover hover mousemove",function(u){var o=_html_.player+"-song-"+n._data.curr_song,s=n._config,p=soundManager.getSoundById(o),w=u.pageX-_html_.loaded.offset().left,v=this,r=n.getDuration(p),t=w/_html_.metadata.progressWrapperWidth,q=Math.round(t*r);n.millsToTime(q,-1);if(s.props.onSeekPreview!==undefined&&f.isFunction(s.props.onSeekPreview)){internal.event_ref=u;s.props.onSeekPreview.apply(this,[])}})}});var k=function(n){this.PLAYER=n,this.play=null;this.playOver=null;this.pause=null;this.pauseOver=null;this.stop=null;this.stopOver=null;this.back=null;this.backOver=null;this.skip=null;this.skipOver=null;this.art=null;this.imagesLoaded=false};f.extend(k.prototype,{setup:function(){var n=this.PLAYER._config.props;if(n.buttonsDir!==undefined){this.PLAYER._controls.setup(this.PLAYER._html.controls_div);this.loadButtonImages(n.buttonsDir)}else{n.buttonHover=false}if(n.spriteImg!==undefined){this.art=new Image();this.art.src=n.spriteImg}},loadButtonImages:function(n){var p=this.PLAYER,q=p._config.props.buttonHover||false,o=p._controls;p._logger.info("Loading images for controls");if(o.play.length>0){this.play=new Image();this.play.src=n+"play.png";this.pause=new Image();this.pause.src=n+"pause.png";if(q===true){this.playOver=new Image();this.playOver.src=n+"play-over.png";this.pauseOver=new Image();this.pauseOver.src=n+"pause-over.png"}}if(o.skip.length>0){this.skip=new Image();this.skip.src=n+"skip.png";if(q===true){this.skipOver=new Image();this.skipOver.src=n+"skip-over.png"}}if(o.back.length>0){this.back=new Image();this.back.src=n+"back.png";if(q===true){this.backOver=new Image();this.backOver.src=n+"back-over.png"}}if(o.stop.length>0){this.stop=new Image();this.stop.src=n+"stop.png";if(q===true){this.stopOver=new Image();this.stopOver.src=n+"stop-over.png"}}this.imagesLoaded=true}});Controller=function(){this._logger=null;this._data=null;this._html=null;this._config=null;this._events=null;this._controls=null;this._imageLoader=null};Controller.prototype={init:function(n){var o=this;o.initComponents(n);if(!soundManager.createSongs){soundManager.createSongs=function(){o._logger.info("createSongs()");var y=o._data;if(y.songs[0]!==undefined){clearInterval(y.interval_id);var q=y.songs,z=soundManager,r=o._config,x=false,B=o._html,C,A=x||false,w=new d(o);o._logger.info("Auto load set to : "+A);for(var v=0,t=q.length;v<t;v++){var D=q[v];var u=w.createSound(D)}B.loading_indication.remove();y.curr_song=0;if(B.useArt===true){o._logger.info("Intializing album art...");var p=y.songs;o.setAlbumArtStyling(0)}o._events.setupSeek();o.showSongInfo();if(r.props.autoPlay!==undefined&&r.props.autoPlay===true){setTimeout(function(){o.play("",y.curr_song)},1000)}if(r.props.onSetupComplete!==undefined&&f.isFunction(r.props.onSetupComplete)){r.props.onSetupComplete.apply(this,[])}if(console&&console.timeEnd){console.timeEnd("SwaggPlayerStart")}o._logger.info("Swagg Player ready!")}}}soundManager.onload=function(){o._data.interval_id=setInterval("soundManager.createSongs()",5)};soundManager.onerror=function(){o._logger.error("An error has occured with loading Sound Manager! Rebooting.");soundManager.flashLoadTimeout=0;clearInterval(_data.interval_id);soundManager.url="swf";setTimeout(soundManager.reboot,20);setTimeout(function(){if(!soundManager.supported()){_logger.error("Something went wrong with loading Sound Manager. No tunes for you!");if(n.props.onError!==undefined&&jQuery.isFunction(n.props.onError)){n.props.onError.apply(this,[])}}},1500)}},initComponents:function(n){var o=this;o._config=new c(o);o._config.props=f.extend(o._config.props,n);o._logger=new b(o,n.id);o._data=new i(o);o._html=new j(o);o._html.initHtml(n);o._data.getSongs();o._html.setupProgressBar();o.setupApi();o._controls=new g(o);o._imageLoader=new k(o);o._imageLoader.setup();if(n.buttonsDir!==undefined){o._controls.setup(o._html.controls_div)}else{n.buttonHover=false}if(n.spriteImg!==undefined){o._imageLoader.art=new Image();o._ImageLoader.art.src=n.spriteImg}o._events=new m(o);o._events.bindControllerEvents();o._events.bindMediaKeyEvents();if(!soundManager.supported()){o._logger.warn("Support for SM2 was not found immediately! A reboot will probably occur. We shall see what happense after that.")}else{o._logger.info("SM2 support was found! It SHOULD be smooth sailing from here but hey, you never know - this web development stuff is tricky!")}},_whileplaying:function(n){this.progress(n);this.millsToTime(n.position,1);if(f.isFunction(this._config.props.whilePlaying)){this._config.props.whilePlaying.apply(n,[])}},_onplay:function(n){this.millsToTime(n.duration,0);this.playPauseButtonState(0);if(this._config.props.onPlay!==undefined&&f.isFunction(this._config.props.onPlay)){this._config.props.onPlay.apply(n,[])}if(this.loaded(n)===true){this.fillLoaded()}},_onpause:function(n){this.playPauseButtonState(1);if(this._config.props.onPause!==undefined&&f.isFunction(this._config.props.onPause)){this._config.props.onPause.apply(n,[])}},_onstop:function(n){if(this._config.props.onStop!==undefined&&f.isFunction(this._config.props.onStop)){this._config.props.onStop.apply(n,[])}},_onfinish:function(n){if(this.internal.repeatMode===false){if(this._data.curr_song<this._data.last_song){this.skip(1)}else{this.stopMusic(_data.curr_song)}}else{this.repeat()}},_onresume:function(n){this.playPauseButtonState(0);if(this._config.props.onResume!==undefined&&f.isFunction(this._config.props.onResume)){this._config.props.onResume.apply(n,[])}},_whileloading:function(n){this.whileLoading(n)},_onerror:function(n){this._logger.error("An error occured while attempting to play this song. Sorry about that.");if(this._config.props.onError!==undefined&&f.isFunction(this,_config.props.onError)){this._config.props.onError.apply(n,[])}},getDuration:function(n){var o;if(!n.loaded===true){o=n.durationEstimate}else{o=n.duration}return o},repeat:function(n){var o=_html.player+"-song-"+_data.curr_song,q=soundManager.getSoundById(o),p=this;p._logger.info("repeat()");p.resetProgressBar();q.setPosition(0);q.play()},play:function(p,n){var q=this,o=q._html.player+"-song-"+n,r=soundManager.getSoundById(o);q._logger.info("Playing track: "+o+". Oh and "+p+" called me!");if(r.paused===true){q._logger.info("Unpausing song");r.resume()}else{if(r.playState===1){q._logger.info("Pausing current track");r.pause()}else{q.internal.update();q._logger.info("Playing current track from beginning");r.play()}}q.showSongInfo()},setupApi:function(){window.swaggPlayerApi=new a(this);this.internal.player=this},createElement:function(r){var q=this,o=r.id.split("-")[3],s=q._data.songs[parseInt(o)],n=q._html,t="item-"+s.id,p=f("<li></li>");q._logger.info("createElement()");p.attr("id",t);p.addClass("swagg-player-playlist-item");p.html(s.title+" - "+s.artist);p.css("cursor","pointer");p.data("song",s);p.bind({click:function(){q.stopMusic(q._data.curr_song);var u=parseInt(f(this).data("song").id),v=function(){q.showSongInfo();q.play("switchArt() - by way of createElement",u)};q._data.curr_song=u;if(q._html.useArt===true){q.switchArt(u,v)}else{q.showSongInfo();q.play("switchArt() - by way of createElement",u)}return false}});q._html.playlist.append(p)},playPauseButtonState:function(r){var q=this,o=q._imageLoader.imagesLoaded,n,t,s=q._controls.play,p=q._config.props.buttonHover||false;if(r===1){if(o===false){s.html("play ")}else{n=q._imageLoader.play.src;if(p===true){t=q._imageLoader.playOver.src}}}else{if(r===0){if(o===false){s.html("pause ")}else{n=q._imageLoader.pause.src;if(p===true){t=q._imageLoader.pauseOver.src}}}else{q._logger.error("Invalid button state! : "+r);return false}}if(o===true){s.attr("src",n);if(p===true){s.bind({mouseout:function(){s.attr("src",n)},mouseover:function(){s.attr("src",t)}})}}},skip:function(r){var p=this,q=p._data,n=p._html,o=q.curr_song;p._logger.info("skip()");if(r===1){if(o<q.songs.length){if(o==q.songs.length-1){o=0}else{o=o+1}}}else{if(r===0){if(o===0){o=q.songs.length-1}else{o=o-1}}else{p._logger.error("Invalid skip direction flag: "+r);return false}}p.stopMusic(o);q.curr_song=o;if(p._html.useArt===true){if(p._config.props.onBeforeSkip!=="undfined"&&jQuery.isFunction(p._config.props.onBeforeSkip)){p._config.props.onBeforeSkip.apply(this,[])}p.switchArt(o)}else{p.showSongInfo();p.play("skip",o)}},jumpTo:function(n){var p=i,o=this;o.stopMusic(n);p.curr_song=n;if(o._html.useArt===true){if(o._config.props.onBeforeSkip!=="undfined"&&jQuery.isFunction(o._config.props.onBeforeSkip)){o._config.props.onBeforeSkip.apply(this,[])}o.switchArt(n)}else{o.showSongInfo();o.play("skip",n)}},wipeArtCss:function(){var n=this,o=n._html.art;o.removeClass(n._data.curr_sprite_class);o.css("height","");o.css("width","");o.css("background-image","");o.css("background","")},resetProgressBar:function(){var n=this;n._html.bar.css("width",0);n._html.loaded.css("width",0)},resetTrackTime:function(){this._logger.info("Resetting track time");this.internal.fillTime(0,0,0,0)},stopMusic:function(n){var o=this;o._logger.info("stopMusic()");soundManager.stopAll();o.playPauseButtonState(1);o.resetProgressBar();o.resetTrackTime()},volume:function(o,n){var r=this,q=r._html.player+"-song-"+o,s=soundManager.getSoundById(q),p=s.volume;if(n===1){r._logger.info("Vol up");soundManager.setVolume(q,p+r._data.vol_interval)}else{if(n===0){r._logger.info("Vol down");soundManager.setVolume(q,p-r._data.vol_interval)}else{r._logger.info("Invalid volume flag!")}}},setAlbumArtStyling:function(o){var q=this;art=q._html.art,_data_=q._data,song=_data_.songs[o],songs=_data_.songs,config=q._config,html=q._html;q.wipeArtCss();if(song.spriteClass!==undefined){art.addClass(song.spriteClass);_data_.curr_sprite_class=song.spriteClass}else{art.css("background"," transparent url("+songs[o].image.src+")");if(config.props.morphArt===true){if(song.thumbHeight!==undefined){q._html.user_art_css.height=song.thumbHeight.toString()+"px"}else{var n=config.props.defaultAlbumArtHeight||"100";q._html.user_art_css.height=n.toString()+"px"}if(song.thumbWidth!==undefined){q._html.user_art_css.width=song.thumbWidth.toString()+"px"}else{var p=config.props.defaultAlbumArtWidth||"100";q._html.user_art_css.width=p.toString()+"px"}art.css(q._html.user_art_css)}}},switchArt:function(n){var q=this,o=q._html.player+"-song-"+n,u=q._html.art,p=q._config,s=q._data,r=s.songs,t=r[n];q._logger.info("Will show  for song at index: "+n);if(f.ui){u.hide("slide",200,function(){q.wipeArtCss();q.setAlbumArtStyling(n);f(this).show("slide",function(){q.showSongInfo();q.play("skip",n);if(p.props.onAfterSkip!==undefined&&f.isFunction(p.props.onAfterSkip)){p.props.onAfterSkip.apply(this,[])}})})}else{u.fadeOut("fast",function(){q.wipeArtCss();q.setAlbumArtStyling(n);f(this).fadeIn("fast",function(){q.showSongInfo();q.play("skip",n);if(p.props.onAfterSkip!==undefined&&f.isFunction(p.props.onAfterSkip)){p.props.onAfterSkip.apply(this,[])}})})}},id3Fill:function(n){var o=_data_.songs[parseInt(n.id.split("-")[1])];if(typeof n.id3.TIT2!==undefined){o.title=n.id3.TIT2}else{if(typeof n.id3.songname!==undefined){o.title=n.id3.songname}else{}}if(typeof n.id3.TPE2!==undefined){o.artist=n.id3.TPE2}else{if(typeof n.id3.artist!==undefined){o.artist=n.id3.artist}else{}}},fillLoaded:function(){this._html.loaded.css("width",this._html.metadata.progressWrapperWidth)},loaded:function(n){if(n.loaded===true&&n.readyState===3&&n.bytesLoaded===n.bytesTotal){return true}else{return false}},whileLoading:function(r){var q=this,t=r.position,p=r.bytesLoaded/r.bytesTotal,s=r.duration;var n=q._html.metadata.progressWrapperWidth,o=n*p;q._html.loaded.css("width",o)},progress:function(q){var p=this,s=q.position;duration=0,loaded_ratio=q.bytesLoaded/q.bytesTotal;if(q.loaded===false){duration=q.durationEstimate}else{duration=q.duration}p.millsToTime(duration,0);var r=s/duration,n=p._html.metadata.progressWrapperWidth,o=n*r;p._html.bar.css("width",o)},millsToTime:function(q,n){var r=Math.floor(q/1000),p=this,o=0;if(r>60){o=Math.floor(r/60);r=Math.round(r%60)}if(n===0){p.internal.fillTotalTime(o,r)}else{if(n===1){p.internal.fillCurrentTime(o,r)}else{if(n===-1){p.internal.fillPreview(o,r)}else{_logger.error("Invalid flag passed to millsToTime()")}}}},showSongInfo:function(){var p=this,n=p._data,q=n.curr_song>-1?n.curr_song:0,o=n.songs[q];var r=[{Artist:o.artist,Title:o.title}];p._html.artist.html(o.artist);p._html.title.html(o.title)},internal:{player:null,totalMinutes:null,totalSeconds:null,currMinutes:null,currSeconds:null,seconds:null,minutes:null,event_ref:null,currTitle:null,currArtist:null,currAlbum:null,currTempo:null,repeatMode:false,update:function(){var o=this.player._data,n=o.curr_song;this.currTitle=o.songs[n].title;this.currArtist=o.songs[n].artist;this.currAlbum=o.songs[n].album;this.currTempo=o.songs[n].tempo;this.player._logger.info("Current song: ["+this.currArtist+"] ["+this.currTitle+"] ["+this.currTempo+"]")},fillTime:function(q,p,o,n){this.totalMinutes=q;this.totalSeconds=p;this.currMinutes=o;this.currSeconds=n},fillTotalTime:function(o,n){this.totalMinutes=o;this.totalSeconds=n},fillCurrentTime:function(n,o){this.currMinutes=n;this.currSeconds=o},fillPreview:function(o,n){this.minutes=o;this.seconds=n},setEventRef:function(n){this.event_ref=n}}};var a=function(n){var o=this;o.currSong={getCurrTimeAsString:function(){var r=n.internal,p=(r.currMinutes>9)?r.currMinutes:"0"+r.currMinutes.toString(),q=(r.currSeconds>9)?r.currSeconds:"0"+r.currSeconds.toString();return p+":"+q},getTotalTimeAsString:function(){var p=n.internal,q=(p.totalMinutes>9)?p.totalMinutes:"0"+p.totalMinutes.toString(),r=(p.totalSeconds>9)?p.totalSeconds:"0"+p.totalSeconds.toString();return q+":"+r},getEventRef:function(){return n.internal.event_ref},previewAsString:function(){var q=n.internal;if(!isNaN(q.minutes)&&!isNaN(q.seconds)){var r=(q.minutes>9)?q.minutes:"0"+q.minutes.toString();var p=(q.seconds>9)?q.seconds:"0"+q.seconds.toString();return r+":"+p}else{return"wait."}},title:function(){return(n.internal.currTitle||"Unknown Title")},artist:function(){return(n.internal.currArtist||"Unknown Artist")},album:function(){return(n.internal.currAlbum||"Unknown Album")},tempo:function(){return(n.internal.currTempo||"Unknown Tempo")}};o.playback={setRepeat:function(p){n.internal.repeatMode=(p===true||p===false)?p:false;return o},inRepeat:function(){var p=internal.repeat;return(p===true||p===false)?p:false},volUp:function(){n.volume(n._data.curr_song,1);return o},volDown:function(){n.volume(n._data.curr_song,0);return o},playTrack:function(p){var q=p-1;if(q<=(_data_.last_song)&&q>=0){n.jumpTo(p-1)}else{_logger.apierror("Invalid track number '"+p+"'")}return o},stop:function(){n.stopMusic(null)},addTrack:function(w){var u=n.PLAYER,q=new d(n),r=n._data.last_song,p=new h(w,r+1),v=q.createSound(p)}}};var l={isIe:function(){return(navigator.userAgent.indexOf("MSIE")>-1)?true:false},isSafari:function(){return(navigator.userAgent.indexOf("AppleWebKit")>-1&&navigator.userAgent.indexOf("Chrome")===-1)}};var e={initializeSoundManager:function(){if(!soundManager){window.soundManager=new SoundManager();soundManager.url="swf";soundManager.wmode="transparent";soundManager.useFastPolling=true;soundManager.useHTML5Audio=true;if(l.isSafari()){soundManager.useHighPerformance=false}else{soundManager.useHighPerformance=true}soundManager.flashLoadTimeout=1000;soundManager.beginDelayedInit()}}}})(jQuery);