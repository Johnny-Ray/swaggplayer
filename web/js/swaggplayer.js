(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){

/* global define:false, soundManager: false */


;(function() {

  'use strict';

  require( './soundManager2-nodebug-jsmin' );

  var Song =  require( './song' );

  // various utility functions
  var Utils = {

    formId: function( index ) {
      return 'track-' + index;
    },

    shouldResume: function( song ) {
      return song.raw.position && song.raw.position > 0;
    },

    timeString: function( str ) {
      var tmp = parseInt( str, 10 );
      var t = tmp > 9 ? str : '0' + str;
      return t !== '60' ? t : '00';
    },

    millsToTime : function( duration ) {
      var seconds = Math.floor( duration / 1000) ;
      var minutes = 0;

      if ( seconds > 60 ) {
        minutes = Math.floor( seconds / 60 );
        seconds = Math.round( seconds % 60 );
      }

      if ( seconds === 60 ) {
        minutes += 1;
        seconds = 0;
      }

      return { mins: parseInt( this.timeString( minutes ) ), secs : parseInt( this.timeString( seconds ) ) };
    },

  };

  var SwaggPlayer = function(){

    var self = this;

    // data and such
    var _data = {};

    // external API
    var _api = {};

    // initialize the player with options
    function init( opts ) {
      _data._element = opts.el;
      _data.swfUrl  = opts.swf || '/swf';
      _data.songs = [];
      _data.currentTrack = 0;
      soundManager.setup({
        url: _data.swfUrl,
        useHighPerformance: true,
        useFastPolling: true,
        onready: function(){
          _load( opts );
        }
      });

      return _api;
    }

    // create the sound manager sound instances
    function _load( opts ) {
      for ( var i = 0; i < opts.songs.length; i++ ) {
        var song = new Song( opts.songs[ i ] );
        song.id = i;
        if ( i === 0 ) {
          _data.firstTrack = song;
        }
        _data.songs.push( song );
        _createNewSong( song, opts );
      }
    }

    // creates a sound manager sound instance and configures
    // all of it's options and registers callbacks
    function _createNewSong( songData, opts ) {
      opts = opts || {};
      var self = _data;
      var meta = {
        artist: songData.artist,
        title: songData.title,
        art: songData.art
      };
      var fastPolling = ( opts.throttlePolling ) ? false : true;

      songData.raw = soundManager.createSound({
        id: Utils.formId( songData.id ),
        url: songData.url,
        autoPlay: false,

        onload: function() {
          console.log('The ' + songData.title + ' loaded!');
        },
        onplay: function() {
          if ( opts.onPlay ) {
            opts.onPlay( meta );
          }
        },
        onresume: function() {
          if ( opts.onResume ) {
            opts.onResume( meta );
          }
        },
        onpause: function() {
          if ( opts.onPause ) {
            opts.onPause( meta );
          }
        },

        onstop: function() {
          if ( opts.onStop ) {
            opts.onStop( meta );
          }
        },

        onfinish: function() {
          if ( opts.onFinish ) {
            opts.onFinish();
          }
          if ( !_isLastTrack() ) {
            _next();
          }
        },

        whileloading: function() {
          if ( opts.whileLoading ) {
            var amntLoaded = _determineBytesLoaded( this );
            opts.whileLoading( amntLoaded );
          }
        },

        whileplaying: function() {
          if ( opts.whilePlaying ) {
            var timeProgress    = _determineTimeProgress( this );
            var percentComplete = _determineByteProgress( this );
            opts.whilePlaying( timeProgress, percentComplete );
          }
        },
      });
    } // end create sound

    function _isLastTrack() {
      return ( _data.currentTrack === ( _data.songs.length - 1 ) );
    }

    function _determineBytesLoaded( sound ) {
      return sound.bytesLoaded / sound.bytesTotal;
    }

    // determine how far along a song is in terms of how many bytes
    // have been played in relation to the total bytes
    function _determineByteProgress( sound ) {
      var pos = sound.position;
      var duration = 0;
      var loadedRatio = sound.bytesLoaded / sound.bytesTotal;

      if ( sound.loaded === false) {
        duration = sound.durationEstimate;
      }
      else {
        duration = sound.duration;
      }

      var positionRatio = pos / duration;

      return ( positionRatio.toFixed( 2 ) * 100 ).toFixed( 0 );
    }

    // determine the current song's position in time mm:ss / mm:ss
    function _determineTimeProgress( sound ) {
      var duration = sound.loaded === true ? sound.duration : sound.durationEstimate;
      var curr = Utils.millsToTime( sound.position );
      var total = Utils.millsToTime( duration );
      var time = {
        current: {
          min: curr.mins,
          sec: curr.secs,
        },
        total: {
          min: total.mins,
          sec: total.secs
        }
      };
      return time;
    }

    // stop all playing sounds
    function _stop() {
      soundManager.stopAll();
      return _api;
    }

    // play a song at the given index
    function _play( index ) {
      // if an index is supplied play a specific song
      // otherwise just play the current song
      if ( index ) {
        _data.currentTrack = index;
      } else {
        index = _data.currentTrack;
      }

      var sound = _data.songs[ index ];

      // check if we're in a paused state. if not, play from the beginning.
      // if we are, then resume play
      if ( sound && !Utils.shouldResume( sound ) ) {
        _stop();
        sound.raw.play();
      } else {
        sound.raw.togglePause();
      }
      return _api;
    }

    // pause all songs
    function _pause() {
      soundManager.pauseAll();
      return _api;
    }

    // play the next song
    function _next() {
      _stop();
      _resetSound( _data.currentTrack );
      _data.currentTrack = _data.currentTrack + 1;
      if ( _data.currentTrack > ( _data.songs.length - 1 ) ) {
        _data.currentTrack = 0;
      }
      return _play();
    }

    // play the previous song
    function _prev() {
      _stop();
      _resetSound( _data.currentTrack );
      _data.currentTrack -= 1;
      if ( _data.currentTrack < 0 ) {
        var song = _data.songs[ _data.songs.length - 1 ];
        _data.currentTrack = song.id;
      }
      return _play();
    }

    // to be fired when the player is ready to go
    function _onReady(cb) {
      var firstSong = _data.songs[ 0 ];
      if ( cb ) {
        soundManager.onready( cb.bind( _api, [ _data.firstTrack ] ) );
      }
      return _api;
    }

    function _onError(cb) {
      if ( cb ) {
        soundManager.onerror( cb.bind( _api ) );
      }
      return _api;
    }

    // resets the current position for a song to 0
    function _resetSound( index ) {
      var id = Utils.formId( index );
      soundManager.getSoundById( id ).position = 0;
    }

    function _cursor( index ) {
      index = ( index > 0 && index < ( _data.songs.length - 1 ) ) ? index : 0;
      _data.currentTrack = index;
      var song = _data.songs[ index ];
      return {
        title: song.title,
        art: song.art,
        id: song.id,
        artist: song.artist
      };
    }

    // expose api
    _api.init     = init;
    _api.onReady  = _onReady;
    _api.onError  = _onError;
    _api.stop     = _stop;
    _api.play     = _play;
    _api.pause    = _pause;
    _api.next     = _next;
    _api.prev     = _prev;
    _api.cursor   = _cursor;

    return _api;
  };


  if ( typeof define !== 'undefined' && define.amd ) {
    define([], function () {
      return SwaggPlayer;
    });
  } else {
    window.SwaggPlayer = SwaggPlayer;
  }

}() );
},{"./song":2,"./soundManager2-nodebug-jsmin":3}],2:[function(require,module,exports){

;(function(){

  'use strict';

  var Song = function( opts ) {
    this.title    = opts.title;
    this.artist   = opts.artist;
    this.url      = opts.url;
    this.art      = opts.art;
    this.id       = opts.id;
  };

  module.exports = Song;

}());
},{}],3:[function(require,module,exports){
/** @license
 *
 * SoundManager 2: JavaScript Sound for the Web
 * ----------------------------------------------
 * http://schillmania.com/projects/soundmanager2/
 *
 * Copyright (c) 2007, Scott Schiller. All rights reserved.
 * Code provided under the BSD License:
 * http://schillmania.com/projects/soundmanager2/license.txt
 *
 * V2.97a.20131201
 */
(function(g,k){function U(U,ka){function V(b){return c.preferFlash&&v&&!c.ignoreFlash&&c.flash[b]!==k&&c.flash[b]}function q(b){return function(c){var d=this._s;return!d||!d._a?null:b.call(this,c)}}this.setupOptions={url:U||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1E3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,
html5Test:/^(probably|maybe)$/i,preferFlash:!1,noSWFCache:!1,idPrefix:"sound"};this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100};this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,
ondataerror:null};this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null};this.audioFormats={mp3:{type:['audio/mpeg; codecs\x3d"mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs\x3d"mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs\x3dvorbis"],required:!1},opus:{type:["audio/ogg; codecs\x3dopus","audio/opus"],required:!1},
wav:{type:['audio/wav; codecs\x3d"1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}};this.movieID="sm2-container";this.id=ka||"sm2movie";this.debugID="soundmanager-debug";this.debugURLParam=/([#?&])debug=1/i;this.versionNumber="V2.97a.20131201";this.altURL=this.movieURL=this.version=null;this.enabled=this.swfLoaded=!1;this.oMC=null;this.sounds={};this.soundIDs=[];this.didFlashBlock=this.muted=!1;this.filePattern=null;this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i};this.features=
{buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1};this.sandbox={};this.html5={usingFlash:null};this.flash={};this.ignoreFlash=this.html5Only=!1;var Ja,c=this,Ka=null,l=null,W,s=navigator.userAgent,La=g.location.href.toString(),n=document,la,Ma,ma,m,x=[],K=!1,L=!1,p=!1,y=!1,na=!1,M,w,oa,X,pa,D,E,F,Na,qa,ra,Y,sa,Z,ta,G,ua,N,va,$,H,Oa,wa,Pa,xa,Qa,O=null,ya=null,P,za,I,aa,ba,r,Q=!1,Aa=!1,Ra,Sa,Ta,ca=0,R=null,da,Ua=[],S,u=null,Va,ea,T,z,fa,Ba,Wa,t,fb=Array.prototype.slice,A=!1,Ca,v,Da,
Xa,B,ga,Ya=0,ha=s.match(/(ipad|iphone|ipod)/i),Za=s.match(/android/i),C=s.match(/msie/i),gb=s.match(/webkit/i),ia=s.match(/safari/i)&&!s.match(/chrome/i),Ea=s.match(/opera/i),Fa=s.match(/(mobile|pre\/|xoom)/i)||ha||Za,$a=!La.match(/usehtml5audio/i)&&!La.match(/sm2\-ignorebadua/i)&&ia&&!s.match(/silk/i)&&s.match(/OS X 10_6_([3-7])/i),Ga=n.hasFocus!==k?n.hasFocus():null,ja=ia&&(n.hasFocus===k||!n.hasFocus()),ab=!ja,bb=/(mp3|mp4|mpa|m4a|m4b)/i,Ha=n.location?n.location.protocol.match(/http/i):null,cb=
!Ha?"http://":"",db=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,eb="mpeg4 aac flv mov mp4 m4v f4v m4a m4b mp4v 3gp 3g2".split(" "),hb=RegExp("\\.("+eb.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i;this.useAltURL=!Ha;var Ia;try{Ia=Audio!==k&&(Ea&&opera!==k&&10>opera.version()?new Audio(null):new Audio).canPlayType!==k}catch(ib){Ia=!1}this.hasHTML5=Ia;this.setup=function(b){var e=!c.url;b!==k&&p&&u&&c.ok();oa(b);b&&
(e&&(N&&b.url!==k)&&c.beginDelayedInit(),!N&&(b.url!==k&&"complete"===n.readyState)&&setTimeout(G,1));return c};this.supported=this.ok=function(){return u?p&&!y:c.useHTML5Audio&&c.hasHTML5};this.getMovie=function(b){return W(b)||n[b]||g[b]};this.createSound=function(b,e){function d(){a=aa(a);c.sounds[a.id]=new Ja(a);c.soundIDs.push(a.id);return c.sounds[a.id]}var a,f=null;if(!p||!c.ok())return!1;e!==k&&(b={id:b,url:e});a=w(b);a.url=da(a.url);void 0===a.id&&(a.id=c.setupOptions.idPrefix+Ya++);if(r(a.id,
!0))return c.sounds[a.id];if(ea(a))f=d(),f._setup_html5(a);else{if(c.html5Only||c.html5.usingFlash&&a.url&&a.url.match(/data\:/i))return d();8<m&&null===a.isMovieStar&&(a.isMovieStar=!(!a.serverURL&&!(a.type&&a.type.match(db)||a.url&&a.url.match(hb))));a=ba(a,void 0);f=d();8===m?l._createSound(a.id,a.loops||1,a.usePolicyFile):(l._createSound(a.id,a.url,a.usePeakData,a.useWaveformData,a.useEQData,a.isMovieStar,a.isMovieStar?a.bufferTime:!1,a.loops||1,a.serverURL,a.duration||null,a.autoPlay,!0,a.autoLoad,
a.usePolicyFile),a.serverURL||(f.connected=!0,a.onconnect&&a.onconnect.apply(f)));!a.serverURL&&(a.autoLoad||a.autoPlay)&&f.load(a)}!a.serverURL&&a.autoPlay&&f.play();return f};this.destroySound=function(b,e){if(!r(b))return!1;var d=c.sounds[b],a;d._iO={};d.stop();d.unload();for(a=0;a<c.soundIDs.length;a++)if(c.soundIDs[a]===b){c.soundIDs.splice(a,1);break}e||d.destruct(!0);delete c.sounds[b];return!0};this.load=function(b,e){return!r(b)?!1:c.sounds[b].load(e)};this.unload=function(b){return!r(b)?
!1:c.sounds[b].unload()};this.onposition=this.onPosition=function(b,e,d,a){return!r(b)?!1:c.sounds[b].onposition(e,d,a)};this.clearOnPosition=function(b,e,d){return!r(b)?!1:c.sounds[b].clearOnPosition(e,d)};this.start=this.play=function(b,e){var d=null,a=e&&!(e instanceof Object);if(!p||!c.ok())return!1;if(r(b,a))a&&(e={url:e});else{if(!a)return!1;a&&(e={url:e});e&&e.url&&(e.id=b,d=c.createSound(e).play())}null===d&&(d=c.sounds[b].play(e));return d};this.setPosition=function(b,e){return!r(b)?!1:c.sounds[b].setPosition(e)};
this.stop=function(b){return!r(b)?!1:c.sounds[b].stop()};this.stopAll=function(){for(var b in c.sounds)c.sounds.hasOwnProperty(b)&&c.sounds[b].stop()};this.pause=function(b){return!r(b)?!1:c.sounds[b].pause()};this.pauseAll=function(){var b;for(b=c.soundIDs.length-1;0<=b;b--)c.sounds[c.soundIDs[b]].pause()};this.resume=function(b){return!r(b)?!1:c.sounds[b].resume()};this.resumeAll=function(){var b;for(b=c.soundIDs.length-1;0<=b;b--)c.sounds[c.soundIDs[b]].resume()};this.togglePause=function(b){return!r(b)?
!1:c.sounds[b].togglePause()};this.setPan=function(b,e){return!r(b)?!1:c.sounds[b].setPan(e)};this.setVolume=function(b,e){return!r(b)?!1:c.sounds[b].setVolume(e)};this.mute=function(b){var e=0;b instanceof String&&(b=null);if(b)return!r(b)?!1:c.sounds[b].mute();for(e=c.soundIDs.length-1;0<=e;e--)c.sounds[c.soundIDs[e]].mute();return c.muted=!0};this.muteAll=function(){c.mute()};this.unmute=function(b){b instanceof String&&(b=null);if(b)return!r(b)?!1:c.sounds[b].unmute();for(b=c.soundIDs.length-
1;0<=b;b--)c.sounds[c.soundIDs[b]].unmute();c.muted=!1;return!0};this.unmuteAll=function(){c.unmute()};this.toggleMute=function(b){return!r(b)?!1:c.sounds[b].toggleMute()};this.getMemoryUse=function(){var b=0;l&&8!==m&&(b=parseInt(l._getMemoryUse(),10));return b};this.disable=function(b){var e;b===k&&(b=!1);if(y)return!1;y=!0;for(e=c.soundIDs.length-1;0<=e;e--)Pa(c.sounds[c.soundIDs[e]]);M(b);t.remove(g,"load",E);return!0};this.canPlayMIME=function(b){var e;c.hasHTML5&&(e=T({type:b}));!e&&u&&(e=b&&
c.ok()?!!(8<m&&b.match(db)||b.match(c.mimePattern)):null);return e};this.canPlayURL=function(b){var e;c.hasHTML5&&(e=T({url:b}));!e&&u&&(e=b&&c.ok()?!!b.match(c.filePattern):null);return e};this.canPlayLink=function(b){return b.type!==k&&b.type&&c.canPlayMIME(b.type)?!0:c.canPlayURL(b.href)};this.getSoundById=function(b,e){return!b?null:c.sounds[b]};this.onready=function(b,c){if("function"===typeof b)c||(c=g),pa("onready",b,c),D();else throw P("needFunction","onready");return!0};this.ontimeout=function(b,
c){if("function"===typeof b)c||(c=g),pa("ontimeout",b,c),D({type:"ontimeout"});else throw P("needFunction","ontimeout");return!0};this._wD=this._writeDebug=function(b,c){return!0};this._debug=function(){};this.reboot=function(b,e){var d,a,f;for(d=c.soundIDs.length-1;0<=d;d--)c.sounds[c.soundIDs[d]].destruct();if(l)try{C&&(ya=l.innerHTML),O=l.parentNode.removeChild(l)}catch(k){}ya=O=u=l=null;c.enabled=N=p=Q=Aa=K=L=y=A=c.swfLoaded=!1;c.soundIDs=[];c.sounds={};Ya=0;if(b)x=[];else for(d in x)if(x.hasOwnProperty(d)){a=
0;for(f=x[d].length;a<f;a++)x[d][a].fired=!1}c.html5={usingFlash:null};c.flash={};c.html5Only=!1;c.ignoreFlash=!1;g.setTimeout(function(){ta();e||c.beginDelayedInit()},20);return c};this.reset=function(){return c.reboot(!0,!0)};this.getMoviePercent=function(){return l&&"PercentLoaded"in l?l.PercentLoaded():null};this.beginDelayedInit=function(){na=!0;G();setTimeout(function(){if(Aa)return!1;$();Z();return Aa=!0},20);F()};this.destruct=function(){c.disable(!0)};Ja=function(b){var e,d,a=this,f,h,J,
g,n,q,s=!1,p=[],u=0,x,y,v=null,z;d=e=null;this.sID=this.id=b.id;this.url=b.url;this._iO=this.instanceOptions=this.options=w(b);this.pan=this.options.pan;this.volume=this.options.volume;this.isHTML5=!1;this._a=null;z=this.url?!1:!0;this.id3={};this._debug=function(){};this.load=function(b){var e=null,d;b!==k?a._iO=w(b,a.options):(b=a.options,a._iO=b,v&&v!==a.url&&(a._iO.url=a.url,a.url=null));a._iO.url||(a._iO.url=a.url);a._iO.url=da(a._iO.url);d=a.instanceOptions=a._iO;if(!d.url&&!a.url)return a;
if(d.url===a.url&&0!==a.readyState&&2!==a.readyState)return 3===a.readyState&&d.onload&&ga(a,function(){d.onload.apply(a,[!!a.duration])}),a;a.loaded=!1;a.readyState=1;a.playState=0;a.id3={};if(ea(d))e=a._setup_html5(d),e._called_load||(a._html5_canplay=!1,a.url!==d.url&&(a._a.src=d.url,a.setPosition(0)),a._a.autobuffer="auto",a._a.preload="auto",a._a._called_load=!0);else{if(c.html5Only||a._iO.url&&a._iO.url.match(/data\:/i))return a;try{a.isHTML5=!1,a._iO=ba(aa(d)),d=a._iO,8===m?l._load(a.id,d.url,
d.stream,d.autoPlay,d.usePolicyFile):l._load(a.id,d.url,!!d.stream,!!d.autoPlay,d.loops||1,!!d.autoLoad,d.usePolicyFile)}catch(f){H({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}a.url=d.url;return a};this.unload=function(){0!==a.readyState&&(a.isHTML5?(g(),a._a&&(a._a.pause(),v=fa(a._a))):8===m?l._unload(a.id,"about:blank"):l._unload(a.id),f());return a};this.destruct=function(b){a.isHTML5?(g(),a._a&&(a._a.pause(),fa(a._a),A||J(),a._a._s=null,a._a=null)):(a._iO.onfailure=null,l._destroySound(a.id));
b||c.destroySound(a.id,!0)};this.start=this.play=function(b,e){var d,f,h,g,J;f=!0;f=null;e=e===k?!0:e;b||(b={});a.url&&(a._iO.url=a.url);a._iO=w(a._iO,a.options);a._iO=w(b,a._iO);a._iO.url=da(a._iO.url);a.instanceOptions=a._iO;if(!a.isHTML5&&a._iO.serverURL&&!a.connected)return a.getAutoPlay()||a.setAutoPlay(!0),a;ea(a._iO)&&(a._setup_html5(a._iO),n());1===a.playState&&!a.paused&&(d=a._iO.multiShot,d||(a.isHTML5&&a.setPosition(a._iO.position),f=a));if(null!==f)return f;b.url&&b.url!==a.url&&(!a.readyState&&
!a.isHTML5&&8===m&&z?z=!1:a.load(a._iO));a.loaded||(0===a.readyState?(!a.isHTML5&&!c.html5Only?(a._iO.autoPlay=!0,a.load(a._iO)):a.isHTML5?a.load(a._iO):f=a,a.instanceOptions=a._iO):2===a.readyState&&(f=a));if(null!==f)return f;!a.isHTML5&&(9===m&&0<a.position&&a.position===a.duration)&&(b.position=0);if(a.paused&&0<=a.position&&(!a._iO.serverURL||0<a.position))a.resume();else{a._iO=w(b,a._iO);if(null!==a._iO.from&&null!==a._iO.to&&0===a.instanceCount&&0===a.playState&&!a._iO.serverURL){d=function(){a._iO=
w(b,a._iO);a.play(a._iO)};if(a.isHTML5&&!a._html5_canplay)a.load({_oncanplay:d}),f=!1;else if(!a.isHTML5&&!a.loaded&&(!a.readyState||2!==a.readyState))a.load({onload:d}),f=!1;if(null!==f)return f;a._iO=y()}(!a.instanceCount||a._iO.multiShotEvents||a.isHTML5&&a._iO.multiShot&&!A||!a.isHTML5&&8<m&&!a.getAutoPlay())&&a.instanceCount++;a._iO.onposition&&0===a.playState&&q(a);a.playState=1;a.paused=!1;a.position=a._iO.position!==k&&!isNaN(a._iO.position)?a._iO.position:0;a.isHTML5||(a._iO=ba(aa(a._iO)));
a._iO.onplay&&e&&(a._iO.onplay.apply(a),s=!0);a.setVolume(a._iO.volume,!0);a.setPan(a._iO.pan,!0);a.isHTML5?2>a.instanceCount?(n(),f=a._setup_html5(),a.setPosition(a._iO.position),f.play()):(h=new Audio(a._iO.url),g=function(){t.remove(h,"ended",g);a._onfinish(a);fa(h);h=null},J=function(){t.remove(h,"canplay",J);try{h.currentTime=a._iO.position/1E3}catch(b){}h.play()},t.add(h,"ended",g),void 0!==a._iO.volume&&(h.volume=Math.max(0,Math.min(1,a._iO.volume/100))),a.muted&&(h.muted=!0),a._iO.position?
t.add(h,"canplay",J):h.play()):(f=l._start(a.id,a._iO.loops||1,9===m?a.position:a.position/1E3,a._iO.multiShot||!1),9===m&&!f&&a._iO.onplayerror&&a._iO.onplayerror.apply(a))}return a};this.stop=function(b){var c=a._iO;1===a.playState&&(a._onbufferchange(0),a._resetOnPosition(0),a.paused=!1,a.isHTML5||(a.playState=0),x(),c.to&&a.clearOnPosition(c.to),a.isHTML5?a._a&&(b=a.position,a.setPosition(0),a.position=b,a._a.pause(),a.playState=0,a._onTimer(),g()):(l._stop(a.id,b),c.serverURL&&a.unload()),a.instanceCount=
0,a._iO={},c.onstop&&c.onstop.apply(a));return a};this.setAutoPlay=function(b){a._iO.autoPlay=b;a.isHTML5||(l._setAutoPlay(a.id,b),b&&!a.instanceCount&&1===a.readyState&&a.instanceCount++)};this.getAutoPlay=function(){return a._iO.autoPlay};this.setPosition=function(b){b===k&&(b=0);var c=a.isHTML5?Math.max(b,0):Math.min(a.duration||a._iO.duration,Math.max(b,0));a.position=c;b=a.position/1E3;a._resetOnPosition(a.position);a._iO.position=c;if(a.isHTML5){if(a._a){if(a._html5_canplay){if(a._a.currentTime!==
b)try{a._a.currentTime=b,(0===a.playState||a.paused)&&a._a.pause()}catch(e){}}else if(b)return a;a.paused&&a._onTimer(!0)}}else b=9===m?a.position:b,a.readyState&&2!==a.readyState&&l._setPosition(a.id,b,a.paused||!a.playState,a._iO.multiShot);return a};this.pause=function(b){if(a.paused||0===a.playState&&1!==a.readyState)return a;a.paused=!0;a.isHTML5?(a._setup_html5().pause(),g()):(b||b===k)&&l._pause(a.id,a._iO.multiShot);a._iO.onpause&&a._iO.onpause.apply(a);return a};this.resume=function(){var b=
a._iO;if(!a.paused)return a;a.paused=!1;a.playState=1;a.isHTML5?(a._setup_html5().play(),n()):(b.isMovieStar&&!b.serverURL&&a.setPosition(a.position),l._pause(a.id,b.multiShot));!s&&b.onplay?(b.onplay.apply(a),s=!0):b.onresume&&b.onresume.apply(a);return a};this.togglePause=function(){if(0===a.playState)return a.play({position:9===m&&!a.isHTML5?a.position:a.position/1E3}),a;a.paused?a.resume():a.pause();return a};this.setPan=function(b,c){b===k&&(b=0);c===k&&(c=!1);a.isHTML5||l._setPan(a.id,b);a._iO.pan=
b;c||(a.pan=b,a.options.pan=b);return a};this.setVolume=function(b,e){b===k&&(b=100);e===k&&(e=!1);a.isHTML5?a._a&&(c.muted&&!a.muted&&(a.muted=!0,a._a.muted=!0),a._a.volume=Math.max(0,Math.min(1,b/100))):l._setVolume(a.id,c.muted&&!a.muted||a.muted?0:b);a._iO.volume=b;e||(a.volume=b,a.options.volume=b);return a};this.mute=function(){a.muted=!0;a.isHTML5?a._a&&(a._a.muted=!0):l._setVolume(a.id,0);return a};this.unmute=function(){a.muted=!1;var b=a._iO.volume!==k;a.isHTML5?a._a&&(a._a.muted=!1):l._setVolume(a.id,
b?a._iO.volume:a.options.volume);return a};this.toggleMute=function(){return a.muted?a.unmute():a.mute()};this.onposition=this.onPosition=function(b,c,e){p.push({position:parseInt(b,10),method:c,scope:e!==k?e:a,fired:!1});return a};this.clearOnPosition=function(a,b){var c;a=parseInt(a,10);if(isNaN(a))return!1;for(c=0;c<p.length;c++)if(a===p[c].position&&(!b||b===p[c].method))p[c].fired&&u--,p.splice(c,1)};this._processOnPosition=function(){var b,c;b=p.length;if(!b||!a.playState||u>=b)return!1;for(b-=
1;0<=b;b--)c=p[b],!c.fired&&a.position>=c.position&&(c.fired=!0,u++,c.method.apply(c.scope,[c.position]));return!0};this._resetOnPosition=function(a){var b,c;b=p.length;if(!b)return!1;for(b-=1;0<=b;b--)c=p[b],c.fired&&a<=c.position&&(c.fired=!1,u--);return!0};y=function(){var b=a._iO,c=b.from,e=b.to,d,f;f=function(){a.clearOnPosition(e,f);a.stop()};d=function(){if(null!==e&&!isNaN(e))a.onPosition(e,f)};null!==c&&!isNaN(c)&&(b.position=c,b.multiShot=!1,d());return b};q=function(){var b,c=a._iO.onposition;
if(c)for(b in c)if(c.hasOwnProperty(b))a.onPosition(parseInt(b,10),c[b])};x=function(){var b,c=a._iO.onposition;if(c)for(b in c)c.hasOwnProperty(b)&&a.clearOnPosition(parseInt(b,10))};n=function(){a.isHTML5&&Ra(a)};g=function(){a.isHTML5&&Sa(a)};f=function(b){b||(p=[],u=0);s=!1;a._hasTimer=null;a._a=null;a._html5_canplay=!1;a.bytesLoaded=null;a.bytesTotal=null;a.duration=a._iO&&a._iO.duration?a._iO.duration:null;a.durationEstimate=null;a.buffered=[];a.eqData=[];a.eqData.left=[];a.eqData.right=[];
a.failures=0;a.isBuffering=!1;a.instanceOptions={};a.instanceCount=0;a.loaded=!1;a.metadata={};a.readyState=0;a.muted=!1;a.paused=!1;a.peakData={left:0,right:0};a.waveformData={left:[],right:[]};a.playState=0;a.position=null;a.id3={}};f();this._onTimer=function(b){var c,f=!1,h={};if(a._hasTimer||b){if(a._a&&(b||(0<a.playState||1===a.readyState)&&!a.paused))c=a._get_html5_duration(),c!==e&&(e=c,a.duration=c,f=!0),a.durationEstimate=a.duration,c=1E3*a._a.currentTime||0,c!==d&&(d=c,f=!0),(f||b)&&a._whileplaying(c,
h,h,h,h);return f}};this._get_html5_duration=function(){var b=a._iO;return(b=a._a&&a._a.duration?1E3*a._a.duration:b&&b.duration?b.duration:null)&&!isNaN(b)&&Infinity!==b?b:null};this._apply_loop=function(a,b){a.loop=1<b?"loop":""};this._setup_html5=function(b){b=w(a._iO,b);var c=A?Ka:a._a,e=decodeURI(b.url),d;A?e===decodeURI(Ca)&&(d=!0):e===decodeURI(v)&&(d=!0);if(c){if(c._s)if(A)c._s&&(c._s.playState&&!d)&&c._s.stop();else if(!A&&e===decodeURI(v))return a._apply_loop(c,b.loops),c;d||(v&&f(!1),c.src=
b.url,Ca=v=a.url=b.url,c._called_load=!1)}else b.autoLoad||b.autoPlay?(a._a=new Audio(b.url),a._a.load()):a._a=Ea&&10>opera.version()?new Audio(null):new Audio,c=a._a,c._called_load=!1,A&&(Ka=c);a.isHTML5=!0;a._a=c;c._s=a;h();a._apply_loop(c,b.loops);b.autoLoad||b.autoPlay?a.load():(c.autobuffer=!1,c.preload="auto");return c};h=function(){if(a._a._added_events)return!1;var b;a._a._added_events=!0;for(b in B)B.hasOwnProperty(b)&&a._a&&a._a.addEventListener(b,B[b],!1);return!0};J=function(){var b;a._a._added_events=
!1;for(b in B)B.hasOwnProperty(b)&&a._a&&a._a.removeEventListener(b,B[b],!1)};this._onload=function(b){var c=!!b||!a.isHTML5&&8===m&&a.duration;a.loaded=c;a.readyState=c?3:2;a._onbufferchange(0);a._iO.onload&&ga(a,function(){a._iO.onload.apply(a,[c])});return!0};this._onbufferchange=function(b){if(0===a.playState||b&&a.isBuffering||!b&&!a.isBuffering)return!1;a.isBuffering=1===b;a._iO.onbufferchange&&a._iO.onbufferchange.apply(a);return!0};this._onsuspend=function(){a._iO.onsuspend&&a._iO.onsuspend.apply(a);
return!0};this._onfailure=function(b,c,e){a.failures++;if(a._iO.onfailure&&1===a.failures)a._iO.onfailure(a,b,c,e)};this._onfinish=function(){var b=a._iO.onfinish;a._onbufferchange(0);a._resetOnPosition(0);a.instanceCount&&(a.instanceCount--,a.instanceCount||(x(),a.playState=0,a.paused=!1,a.instanceCount=0,a.instanceOptions={},a._iO={},g(),a.isHTML5&&(a.position=0)),(!a.instanceCount||a._iO.multiShotEvents)&&b&&ga(a,function(){b.apply(a)}))};this._whileloading=function(b,c,e,d){var f=a._iO;a.bytesLoaded=
b;a.bytesTotal=c;a.duration=Math.floor(e);a.bufferLength=d;a.durationEstimate=!a.isHTML5&&!f.isMovieStar?f.duration?a.duration>f.duration?a.duration:f.duration:parseInt(a.bytesTotal/a.bytesLoaded*a.duration,10):a.duration;a.isHTML5||(a.buffered=[{start:0,end:a.duration}]);(3!==a.readyState||a.isHTML5)&&f.whileloading&&f.whileloading.apply(a)};this._whileplaying=function(b,c,e,d,f){var h=a._iO;if(isNaN(b)||null===b)return!1;a.position=Math.max(0,b);a._processOnPosition();!a.isHTML5&&8<m&&(h.usePeakData&&
(c!==k&&c)&&(a.peakData={left:c.leftPeak,right:c.rightPeak}),h.useWaveformData&&(e!==k&&e)&&(a.waveformData={left:e.split(","),right:d.split(",")}),h.useEQData&&(f!==k&&f&&f.leftEQ)&&(b=f.leftEQ.split(","),a.eqData=b,a.eqData.left=b,f.rightEQ!==k&&f.rightEQ&&(a.eqData.right=f.rightEQ.split(","))));1===a.playState&&(!a.isHTML5&&(8===m&&!a.position&&a.isBuffering)&&a._onbufferchange(0),h.whileplaying&&h.whileplaying.apply(a));return!0};this._oncaptiondata=function(b){a.captiondata=b;a._iO.oncaptiondata&&
a._iO.oncaptiondata.apply(a,[b])};this._onmetadata=function(b,c){var e={},d,f;d=0;for(f=b.length;d<f;d++)e[b[d]]=c[d];a.metadata=e;a._iO.onmetadata&&a._iO.onmetadata.apply(a)};this._onid3=function(b,c){var e=[],d,f;d=0;for(f=b.length;d<f;d++)e[b[d]]=c[d];a.id3=w(a.id3,e);a._iO.onid3&&a._iO.onid3.apply(a)};this._onconnect=function(b){b=1===b;if(a.connected=b)a.failures=0,r(a.id)&&(a.getAutoPlay()?a.play(k,a.getAutoPlay()):a._iO.autoLoad&&a.load()),a._iO.onconnect&&a._iO.onconnect.apply(a,[b])};this._ondataerror=
function(b){0<a.playState&&a._iO.ondataerror&&a._iO.ondataerror.apply(a)}};va=function(){return n.body||n.getElementsByTagName("div")[0]};W=function(b){return n.getElementById(b)};w=function(b,e){var d=b||{},a,f;a=e===k?c.defaultOptions:e;for(f in a)a.hasOwnProperty(f)&&d[f]===k&&(d[f]="object"!==typeof a[f]||null===a[f]?a[f]:w(d[f],a[f]));return d};ga=function(b,c){!b.isHTML5&&8===m?g.setTimeout(c,0):c()};X={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1};oa=function(b,
e){var d,a=!0,f=e!==k,h=c.setupOptions;for(d in b)if(b.hasOwnProperty(d))if("object"!==typeof b[d]||null===b[d]||b[d]instanceof Array||b[d]instanceof RegExp)f&&X[e]!==k?c[e][d]=b[d]:h[d]!==k?(c.setupOptions[d]=b[d],c[d]=b[d]):X[d]===k?a=!1:c[d]instanceof Function?c[d].apply(c,b[d]instanceof Array?b[d]:[b[d]]):c[d]=b[d];else if(X[d]===k)a=!1;else return oa(b[d],d);return a};t=function(){function b(a){a=fb.call(a);var b=a.length;d?(a[1]="on"+a[1],3<b&&a.pop()):3===b&&a.push(!1);return a}function c(b,
e){var k=b.shift(),g=[a[e]];if(d)k[g](b[0],b[1]);else k[g].apply(k,b)}var d=g.attachEvent,a={add:d?"attachEvent":"addEventListener",remove:d?"detachEvent":"removeEventListener"};return{add:function(){c(b(arguments),"add")},remove:function(){c(b(arguments),"remove")}}}();B={abort:q(function(){}),canplay:q(function(){var b=this._s,c;if(b._html5_canplay)return!0;b._html5_canplay=!0;b._onbufferchange(0);c=b._iO.position!==k&&!isNaN(b._iO.position)?b._iO.position/1E3:null;if(b.position&&this.currentTime!==
c)try{this.currentTime=c}catch(d){}b._iO._oncanplay&&b._iO._oncanplay()}),canplaythrough:q(function(){var b=this._s;b.loaded||(b._onbufferchange(0),b._whileloading(b.bytesLoaded,b.bytesTotal,b._get_html5_duration()),b._onload(!0))}),ended:q(function(){this._s._onfinish()}),error:q(function(){this._s._onload(!1)}),loadeddata:q(function(){var b=this._s;!b._loaded&&!ia&&(b.duration=b._get_html5_duration())}),loadedmetadata:q(function(){}),loadstart:q(function(){this._s._onbufferchange(1)}),play:q(function(){this._s._onbufferchange(0)}),
playing:q(function(){this._s._onbufferchange(0)}),progress:q(function(b){var c=this._s,d,a,f=0,f=b.target.buffered;d=b.loaded||0;var h=b.total||1;c.buffered=[];if(f&&f.length){d=0;for(a=f.length;d<a;d++)c.buffered.push({start:1E3*f.start(d),end:1E3*f.end(d)});f=1E3*(f.end(0)-f.start(0));d=Math.min(1,f/(1E3*b.target.duration))}isNaN(d)||(c._onbufferchange(0),c._whileloading(d,h,c._get_html5_duration()),d&&(h&&d===h)&&B.canplaythrough.call(this,b))}),ratechange:q(function(){}),suspend:q(function(b){var c=
this._s;B.progress.call(this,b);c._onsuspend()}),stalled:q(function(){}),timeupdate:q(function(){this._s._onTimer()}),waiting:q(function(){this._s._onbufferchange(1)})};ea=function(b){return!b||!b.type&&!b.url&&!b.serverURL?!1:b.serverURL||b.type&&V(b.type)?!1:b.type?T({type:b.type}):T({url:b.url})||c.html5Only||b.url.match(/data\:/i)};fa=function(b){var e;b&&(e=ia?"about:blank":c.html5.canPlayType("audio/wav")?"data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w\x3d\x3d":
"about:blank",b.src=e,void 0!==b._called_unload&&(b._called_load=!1));A&&(Ca=null);return e};T=function(b){if(!c.useHTML5Audio||!c.hasHTML5)return!1;var e=b.url||null;b=b.type||null;var d=c.audioFormats,a;if(b&&c.html5[b]!==k)return c.html5[b]&&!V(b);if(!z){z=[];for(a in d)d.hasOwnProperty(a)&&(z.push(a),d[a].related&&(z=z.concat(d[a].related)));z=RegExp("\\.("+z.join("|")+")(\\?.*)?$","i")}a=e?e.toLowerCase().match(z):null;!a||!a.length?b&&(e=b.indexOf(";"),a=(-1!==e?b.substr(0,e):b).substr(6)):
a=a[1];a&&c.html5[a]!==k?e=c.html5[a]&&!V(a):(b="audio/"+a,e=c.html5.canPlayType({type:b}),e=(c.html5[a]=e)&&c.html5[b]&&!V(b));return e};Wa=function(){function b(a){var b,d=b=!1;if(!e||"function"!==typeof e.canPlayType)return b;if(a instanceof Array){g=0;for(b=a.length;g<b;g++)if(c.html5[a[g]]||e.canPlayType(a[g]).match(c.html5Test))d=!0,c.html5[a[g]]=!0,c.flash[a[g]]=!!a[g].match(bb);b=d}else a=e&&"function"===typeof e.canPlayType?e.canPlayType(a):!1,b=!(!a||!a.match(c.html5Test));return b}if(!c.useHTML5Audio||
!c.hasHTML5)return u=c.html5.usingFlash=!0,!1;var e=Audio!==k?Ea&&10>opera.version()?new Audio(null):new Audio:null,d,a,f={},h,g;h=c.audioFormats;for(d in h)if(h.hasOwnProperty(d)&&(a="audio/"+d,f[d]=b(h[d].type),f[a]=f[d],d.match(bb)?(c.flash[d]=!0,c.flash[a]=!0):(c.flash[d]=!1,c.flash[a]=!1),h[d]&&h[d].related))for(g=h[d].related.length-1;0<=g;g--)f["audio/"+h[d].related[g]]=f[d],c.html5[h[d].related[g]]=f[d],c.flash[h[d].related[g]]=f[d];f.canPlayType=e?b:null;c.html5=w(c.html5,f);c.html5.usingFlash=
Va();u=c.html5.usingFlash;return!0};sa={};P=function(){};aa=function(b){8===m&&(1<b.loops&&b.stream)&&(b.stream=!1);return b};ba=function(b,c){if(b&&!b.usePolicyFile&&(b.onid3||b.usePeakData||b.useWaveformData||b.useEQData))b.usePolicyFile=!0;return b};la=function(){return!1};Pa=function(b){for(var c in b)b.hasOwnProperty(c)&&"function"===typeof b[c]&&(b[c]=la)};xa=function(b){b===k&&(b=!1);(y||b)&&c.disable(b)};Qa=function(b){var e=null;if(b)if(b.match(/\.swf(\?.*)?$/i)){if(e=b.substr(b.toLowerCase().lastIndexOf(".swf?")+
4))return b}else b.lastIndexOf("/")!==b.length-1&&(b+="/");b=(b&&-1!==b.lastIndexOf("/")?b.substr(0,b.lastIndexOf("/")+1):"./")+c.movieURL;c.noSWFCache&&(b+="?ts\x3d"+(new Date).getTime());return b};ra=function(){m=parseInt(c.flashVersion,10);8!==m&&9!==m&&(c.flashVersion=m=8);var b=c.debugMode||c.debugFlash?"_debug.swf":".swf";c.useHTML5Audio&&(!c.html5Only&&c.audioFormats.mp4.required&&9>m)&&(c.flashVersion=m=9);c.version=c.versionNumber+(c.html5Only?" (HTML5-only mode)":9===m?" (AS3/Flash 9)":
" (AS2/Flash 8)");8<m?(c.defaultOptions=w(c.defaultOptions,c.flash9Options),c.features.buffering=!0,c.defaultOptions=w(c.defaultOptions,c.movieStarOptions),c.filePatterns.flash9=RegExp("\\.(mp3|"+eb.join("|")+")(\\?.*)?$","i"),c.features.movieStar=!0):c.features.movieStar=!1;c.filePattern=c.filePatterns[8!==m?"flash9":"flash8"];c.movieURL=(8===m?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",b);c.features.peakData=c.features.waveformData=c.features.eqData=8<m};Oa=function(b,c){if(!l)return!1;
l._setPolling(b,c)};wa=function(){};r=this.getSoundById;I=function(){var b=[];c.debugMode&&b.push("sm2_debug");c.debugFlash&&b.push("flash_debug");c.useHighPerformance&&b.push("high_performance");return b.join(" ")};za=function(){P("fbHandler");var b=c.getMoviePercent(),e={type:"FLASHBLOCK"};if(c.html5Only)return!1;c.ok()?c.oMC&&(c.oMC.className=[I(),"movieContainer","swf_loaded"+(c.didFlashBlock?" swf_unblocked":"")].join(" ")):(u&&(c.oMC.className=I()+" movieContainer "+(null===b?"swf_timedout":
"swf_error")),c.didFlashBlock=!0,D({type:"ontimeout",ignoreInit:!0,error:e}),H(e))};pa=function(b,c,d){x[b]===k&&(x[b]=[]);x[b].push({method:c,scope:d||null,fired:!1})};D=function(b){b||(b={type:c.ok()?"onready":"ontimeout"});if(!p&&b&&!b.ignoreInit||"ontimeout"===b.type&&(c.ok()||y&&!b.ignoreInit))return!1;var e={success:b&&b.ignoreInit?c.ok():!y},d=b&&b.type?x[b.type]||[]:[],a=[],f,e=[e],h=u&&!c.ok();b.error&&(e[0].error=b.error);b=0;for(f=d.length;b<f;b++)!0!==d[b].fired&&a.push(d[b]);if(a.length){b=
0;for(f=a.length;b<f;b++)a[b].scope?a[b].method.apply(a[b].scope,e):a[b].method.apply(this,e),h||(a[b].fired=!0)}return!0};E=function(){g.setTimeout(function(){c.useFlashBlock&&za();D();"function"===typeof c.onload&&c.onload.apply(g);c.waitForWindowLoad&&t.add(g,"load",E)},1)};Da=function(){if(v!==k)return v;var b=!1,c=navigator,d=c.plugins,a,f=g.ActiveXObject;if(d&&d.length)(c=c.mimeTypes)&&(c["application/x-shockwave-flash"]&&c["application/x-shockwave-flash"].enabledPlugin&&c["application/x-shockwave-flash"].enabledPlugin.description)&&
(b=!0);else if(f!==k&&!s.match(/MSAppHost/i)){try{a=new f("ShockwaveFlash.ShockwaveFlash")}catch(h){a=null}b=!!a}return v=b};Va=function(){var b,e,d=c.audioFormats;if(ha&&s.match(/os (1|2|3_0|3_1)/i))c.hasHTML5=!1,c.html5Only=!0,c.oMC&&(c.oMC.style.display="none");else if(c.useHTML5Audio&&(!c.html5||!c.html5.canPlayType))c.hasHTML5=!1;if(c.useHTML5Audio&&c.hasHTML5)for(e in S=!0,d)if(d.hasOwnProperty(e)&&d[e].required)if(c.html5.canPlayType(d[e].type)){if(c.preferFlash&&(c.flash[e]||c.flash[d[e].type]))b=
!0}else S=!1,b=!0;c.ignoreFlash&&(b=!1,S=!0);c.html5Only=c.hasHTML5&&c.useHTML5Audio&&!b;return!c.html5Only};da=function(b){var e,d,a=0;if(b instanceof Array){e=0;for(d=b.length;e<d;e++)if(b[e]instanceof Object){if(c.canPlayMIME(b[e].type)){a=e;break}}else if(c.canPlayURL(b[e])){a=e;break}b[a].url&&(b[a]=b[a].url);b=b[a]}return b};Ra=function(b){b._hasTimer||(b._hasTimer=!0,!Fa&&c.html5PollingInterval&&(null===R&&0===ca&&(R=setInterval(Ta,c.html5PollingInterval)),ca++))};Sa=function(b){b._hasTimer&&
(b._hasTimer=!1,!Fa&&c.html5PollingInterval&&ca--)};Ta=function(){var b;if(null!==R&&!ca)return clearInterval(R),R=null,!1;for(b=c.soundIDs.length-1;0<=b;b--)c.sounds[c.soundIDs[b]].isHTML5&&c.sounds[c.soundIDs[b]]._hasTimer&&c.sounds[c.soundIDs[b]]._onTimer()};H=function(b){b=b!==k?b:{};"function"===typeof c.onerror&&c.onerror.apply(g,[{type:b.type!==k?b.type:null}]);b.fatal!==k&&b.fatal&&c.disable()};Xa=function(){if(!$a||!Da())return!1;var b=c.audioFormats,e,d;for(d in b)if(b.hasOwnProperty(d)&&
("mp3"===d||"mp4"===d))if(c.html5[d]=!1,b[d]&&b[d].related)for(e=b[d].related.length-1;0<=e;e--)c.html5[b[d].related[e]]=!1};this._setSandboxType=function(b){};this._externalInterfaceOK=function(b){if(c.swfLoaded)return!1;c.swfLoaded=!0;ja=!1;$a&&Xa();setTimeout(ma,C?100:1)};$=function(b,e){function d(a,b){return'\x3cparam name\x3d"'+a+'" value\x3d"'+b+'" /\x3e'}if(K&&L)return!1;if(c.html5Only)return ra(),c.oMC=W(c.movieID),ma(),L=K=!0,!1;var a=e||c.url,f=c.altURL||a,h=va(),g=I(),l=null,l=n.getElementsByTagName("html")[0],
m,p,q,l=l&&l.dir&&l.dir.match(/rtl/i);b=b===k?c.id:b;ra();c.url=Qa(Ha?a:f);e=c.url;c.wmode=!c.wmode&&c.useHighPerformance?"transparent":c.wmode;if(null!==c.wmode&&(s.match(/msie 8/i)||!C&&!c.useHighPerformance)&&navigator.platform.match(/win32|win64/i))Ua.push(sa.spcWmode),c.wmode=null;h={name:b,id:b,src:e,quality:"high",allowScriptAccess:c.allowScriptAccess,bgcolor:c.bgColor,pluginspage:cb+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",
wmode:c.wmode,hasPriority:"true"};c.debugFlash&&(h.FlashVars="debug\x3d1");c.wmode||delete h.wmode;if(C)a=n.createElement("div"),p=['\x3cobject id\x3d"'+b+'" data\x3d"'+e+'" type\x3d"'+h.type+'" title\x3d"'+h.title+'" classid\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase\x3d"'+cb+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version\x3d6,0,40,0"\x3e',d("movie",e),d("AllowScriptAccess",c.allowScriptAccess),d("quality",h.quality),c.wmode?d("wmode",c.wmode):"",d("bgcolor",
c.bgColor),d("hasPriority","true"),c.debugFlash?d("FlashVars",h.FlashVars):"","\x3c/object\x3e"].join("");else for(m in a=n.createElement("embed"),h)h.hasOwnProperty(m)&&a.setAttribute(m,h[m]);wa();g=I();if(h=va())if(c.oMC=W(c.movieID)||n.createElement("div"),c.oMC.id)q=c.oMC.className,c.oMC.className=(q?q+" ":"movieContainer")+(g?" "+g:""),c.oMC.appendChild(a),C&&(m=c.oMC.appendChild(n.createElement("div")),m.className="sm2-object-box",m.innerHTML=p),L=!0;else{c.oMC.id=c.movieID;c.oMC.className=
"movieContainer "+g;m=g=null;c.useFlashBlock||(c.useHighPerformance?g={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(g={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},l&&(g.left=Math.abs(parseInt(g.left,10))+"px")));gb&&(c.oMC.style.zIndex=1E4);if(!c.debugFlash)for(q in g)g.hasOwnProperty(q)&&(c.oMC.style[q]=g[q]);try{C||c.oMC.appendChild(a),h.appendChild(c.oMC),C&&(m=c.oMC.appendChild(n.createElement("div")),m.className="sm2-object-box",
m.innerHTML=p),L=!0}catch(r){throw Error(P("domError")+" \n"+r.toString());}}return K=!0};Z=function(){if(c.html5Only)return $(),!1;if(l||!c.url)return!1;l=c.getMovie(c.id);l||(O?(C?c.oMC.innerHTML=ya:c.oMC.appendChild(O),O=null,K=!0):$(c.id,c.url),l=c.getMovie(c.id));"function"===typeof c.oninitmovie&&setTimeout(c.oninitmovie,1);return!0};F=function(){setTimeout(Na,1E3)};qa=function(){g.setTimeout(function(){c.setup({preferFlash:!1}).reboot();c.didFlashBlock=!0;c.beginDelayedInit()},1)};Na=function(){var b,
e=!1;if(!c.url||Q)return!1;Q=!0;t.remove(g,"load",F);if(v&&ja&&!Ga)return!1;p||(b=c.getMoviePercent(),0<b&&100>b&&(e=!0));setTimeout(function(){b=c.getMoviePercent();if(e)return Q=!1,g.setTimeout(F,1),!1;!p&&ab&&(null===b?c.useFlashBlock||0===c.flashLoadTimeout?c.useFlashBlock&&za():!c.useFlashBlock&&S?qa():D({type:"ontimeout",ignoreInit:!0,error:{type:"INIT_FLASHBLOCK"}}):0!==c.flashLoadTimeout&&(!c.useFlashBlock&&S?qa():xa(!0)))},c.flashLoadTimeout)};Y=function(){if(Ga||!ja)return t.remove(g,"focus",
Y),!0;Ga=ab=!0;Q=!1;F();t.remove(g,"focus",Y);return!0};M=function(b){if(p)return!1;if(c.html5Only)return p=!0,E(),!0;var e=!0,d;if(!c.useFlashBlock||!c.flashLoadTimeout||c.getMoviePercent())p=!0;d={type:!v&&u?"NO_FLASH":"INIT_TIMEOUT"};if(y||b)c.useFlashBlock&&c.oMC&&(c.oMC.className=I()+" "+(null===c.getMoviePercent()?"swf_timedout":"swf_error")),D({type:"ontimeout",error:d,ignoreInit:!0}),H(d),e=!1;y||(c.waitForWindowLoad&&!na?t.add(g,"load",E):E());return e};Ma=function(){var b,e=c.setupOptions;
for(b in e)e.hasOwnProperty(b)&&(c[b]===k?c[b]=e[b]:c[b]!==e[b]&&(c.setupOptions[b]=c[b]))};ma=function(){if(p)return!1;if(c.html5Only)return p||(t.remove(g,"load",c.beginDelayedInit),c.enabled=!0,M()),!0;Z();try{l._externalInterfaceTest(!1),Oa(!0,c.flashPollingInterval||(c.useHighPerformance?10:50)),c.debugMode||l._disableDebug(),c.enabled=!0,c.html5Only||t.add(g,"unload",la)}catch(b){return H({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),xa(!0),M(),!1}M();t.remove(g,"load",c.beginDelayedInit);return!0};
G=function(){if(N)return!1;N=!0;Ma();wa();!v&&c.hasHTML5&&c.setup({useHTML5Audio:!0,preferFlash:!1});Wa();!v&&u&&(Ua.push(sa.needFlash),c.setup({flashLoadTimeout:1}));n.removeEventListener&&n.removeEventListener("DOMContentLoaded",G,!1);Z();return!0};Ba=function(){"complete"===n.readyState&&(G(),n.detachEvent("onreadystatechange",Ba));return!0};ua=function(){na=!0;t.remove(g,"load",ua)};ta=function(){if(Fa&&(c.setupOptions.useHTML5Audio=!0,c.setupOptions.preferFlash=!1,ha||Za&&!s.match(/android\s2\.3/i)))ha&&
(c.ignoreFlash=!0),A=!0};ta();Da();t.add(g,"focus",Y);t.add(g,"load",F);t.add(g,"load",ua);n.addEventListener?n.addEventListener("DOMContentLoaded",G,!1):n.attachEvent?n.attachEvent("onreadystatechange",Ba):H({type:"NO_DOM2_EVENTS",fatal:!0})}var ka=null;if(void 0===g.SM2_DEFER||!SM2_DEFER)ka=new U;g.SoundManager=U;g.soundManager=ka})(window);
},{}]},{},[1])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2hubnkvcHJvai9zd2FnZ3BsYXllci9ub2RlX21vZHVsZXMvZ3VscC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvam9obm55L3Byb2ovc3dhZ2dwbGF5ZXIvbGliL2Zha2VfZTcwMzJlOTUuanMiLCIvVXNlcnMvam9obm55L3Byb2ovc3dhZ2dwbGF5ZXIvbGliL3NvbmcuanMiLCIvVXNlcnMvam9obm55L3Byb2ovc3dhZ2dwbGF5ZXIvbGliL3NvdW5kTWFuYWdlcjItbm9kZWJ1Zy1qc21pbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3VEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDZkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3Rocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIil9dmFyIGY9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGYuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sZixmLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIlxuLyogZ2xvYmFsIGRlZmluZTpmYWxzZSwgc291bmRNYW5hZ2VyOiBmYWxzZSAqL1xuXG5cbjsoZnVuY3Rpb24oKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHJlcXVpcmUoICcuL3NvdW5kTWFuYWdlcjItbm9kZWJ1Zy1qc21pbicgKTtcblxuICB2YXIgU29uZyA9ICByZXF1aXJlKCAnLi9zb25nJyApO1xuXG4gIC8vIHZhcmlvdXMgdXRpbGl0eSBmdW5jdGlvbnNcbiAgdmFyIFV0aWxzID0ge1xuXG4gICAgZm9ybUlkOiBmdW5jdGlvbiggaW5kZXggKSB7XG4gICAgICByZXR1cm4gJ3RyYWNrLScgKyBpbmRleDtcbiAgICB9LFxuXG4gICAgc2hvdWxkUmVzdW1lOiBmdW5jdGlvbiggc29uZyApIHtcbiAgICAgIHJldHVybiBzb25nLnJhdy5wb3NpdGlvbiAmJiBzb25nLnJhdy5wb3NpdGlvbiA+IDA7XG4gICAgfSxcblxuICAgIHRpbWVTdHJpbmc6IGZ1bmN0aW9uKCBzdHIgKSB7XG4gICAgICB2YXIgdG1wID0gcGFyc2VJbnQoIHN0ciwgMTAgKTtcbiAgICAgIHZhciB0ID0gdG1wID4gOSA/IHN0ciA6ICcwJyArIHN0cjtcbiAgICAgIHJldHVybiB0ICE9PSAnNjAnID8gdCA6ICcwMCc7XG4gICAgfSxcblxuICAgIG1pbGxzVG9UaW1lIDogZnVuY3Rpb24oIGR1cmF0aW9uICkge1xuICAgICAgdmFyIHNlY29uZHMgPSBNYXRoLmZsb29yKCBkdXJhdGlvbiAvIDEwMDApIDtcbiAgICAgIHZhciBtaW51dGVzID0gMDtcblxuICAgICAgaWYgKCBzZWNvbmRzID4gNjAgKSB7XG4gICAgICAgIG1pbnV0ZXMgPSBNYXRoLmZsb29yKCBzZWNvbmRzIC8gNjAgKTtcbiAgICAgICAgc2Vjb25kcyA9IE1hdGgucm91bmQoIHNlY29uZHMgJSA2MCApO1xuICAgICAgfVxuXG4gICAgICBpZiAoIHNlY29uZHMgPT09IDYwICkge1xuICAgICAgICBtaW51dGVzICs9IDE7XG4gICAgICAgIHNlY29uZHMgPSAwO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4geyBtaW5zOiBwYXJzZUludCggdGhpcy50aW1lU3RyaW5nKCBtaW51dGVzICkgKSwgc2VjcyA6IHBhcnNlSW50KCB0aGlzLnRpbWVTdHJpbmcoIHNlY29uZHMgKSApIH07XG4gICAgfSxcblxuICB9O1xuXG4gIHZhciBTd2FnZ1BsYXllciA9IGZ1bmN0aW9uKCl7XG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAvLyBkYXRhIGFuZCBzdWNoXG4gICAgdmFyIF9kYXRhID0ge307XG5cbiAgICAvLyBleHRlcm5hbCBBUElcbiAgICB2YXIgX2FwaSA9IHt9O1xuXG4gICAgLy8gaW5pdGlhbGl6ZSB0aGUgcGxheWVyIHdpdGggb3B0aW9uc1xuICAgIGZ1bmN0aW9uIGluaXQoIG9wdHMgKSB7XG4gICAgICBfZGF0YS5fZWxlbWVudCA9IG9wdHMuZWw7XG4gICAgICBfZGF0YS5zd2ZVcmwgID0gb3B0cy5zd2YgfHwgJy9zd2YnO1xuICAgICAgX2RhdGEuc29uZ3MgPSBbXTtcbiAgICAgIF9kYXRhLmN1cnJlbnRUcmFjayA9IDA7XG4gICAgICBzb3VuZE1hbmFnZXIuc2V0dXAoe1xuICAgICAgICB1cmw6IF9kYXRhLnN3ZlVybCxcbiAgICAgICAgdXNlSGlnaFBlcmZvcm1hbmNlOiB0cnVlLFxuICAgICAgICB1c2VGYXN0UG9sbGluZzogdHJ1ZSxcbiAgICAgICAgb25yZWFkeTogZnVuY3Rpb24oKXtcbiAgICAgICAgICBfbG9hZCggb3B0cyApO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIF9hcGk7XG4gICAgfVxuXG4gICAgLy8gY3JlYXRlIHRoZSBzb3VuZCBtYW5hZ2VyIHNvdW5kIGluc3RhbmNlc1xuICAgIGZ1bmN0aW9uIF9sb2FkKCBvcHRzICkge1xuICAgICAgZm9yICggdmFyIGkgPSAwOyBpIDwgb3B0cy5zb25ncy5sZW5ndGg7IGkrKyApIHtcbiAgICAgICAgdmFyIHNvbmcgPSBuZXcgU29uZyggb3B0cy5zb25nc1sgaSBdICk7XG4gICAgICAgIHNvbmcuaWQgPSBpO1xuICAgICAgICBpZiAoIGkgPT09IDAgKSB7XG4gICAgICAgICAgX2RhdGEuZmlyc3RUcmFjayA9IHNvbmc7XG4gICAgICAgIH1cbiAgICAgICAgX2RhdGEuc29uZ3MucHVzaCggc29uZyApO1xuICAgICAgICBfY3JlYXRlTmV3U29uZyggc29uZywgb3B0cyApO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGNyZWF0ZXMgYSBzb3VuZCBtYW5hZ2VyIHNvdW5kIGluc3RhbmNlIGFuZCBjb25maWd1cmVzXG4gICAgLy8gYWxsIG9mIGl0J3Mgb3B0aW9ucyBhbmQgcmVnaXN0ZXJzIGNhbGxiYWNrc1xuICAgIGZ1bmN0aW9uIF9jcmVhdGVOZXdTb25nKCBzb25nRGF0YSwgb3B0cyApIHtcbiAgICAgIG9wdHMgPSBvcHRzIHx8IHt9O1xuICAgICAgdmFyIHNlbGYgPSBfZGF0YTtcbiAgICAgIHZhciBtZXRhID0ge1xuICAgICAgICBhcnRpc3Q6IHNvbmdEYXRhLmFydGlzdCxcbiAgICAgICAgdGl0bGU6IHNvbmdEYXRhLnRpdGxlLFxuICAgICAgICBhcnQ6IHNvbmdEYXRhLmFydFxuICAgICAgfTtcbiAgICAgIHZhciBmYXN0UG9sbGluZyA9ICggb3B0cy50aHJvdHRsZVBvbGxpbmcgKSA/IGZhbHNlIDogdHJ1ZTtcblxuICAgICAgc29uZ0RhdGEucmF3ID0gc291bmRNYW5hZ2VyLmNyZWF0ZVNvdW5kKHtcbiAgICAgICAgaWQ6IFV0aWxzLmZvcm1JZCggc29uZ0RhdGEuaWQgKSxcbiAgICAgICAgdXJsOiBzb25nRGF0YS51cmwsXG4gICAgICAgIGF1dG9QbGF5OiBmYWxzZSxcblxuICAgICAgICBvbmxvYWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdUaGUgJyArIHNvbmdEYXRhLnRpdGxlICsgJyBsb2FkZWQhJyk7XG4gICAgICAgIH0sXG4gICAgICAgIG9ucGxheTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKCBvcHRzLm9uUGxheSApIHtcbiAgICAgICAgICAgIG9wdHMub25QbGF5KCBtZXRhICk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvbnJlc3VtZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKCBvcHRzLm9uUmVzdW1lICkge1xuICAgICAgICAgICAgb3B0cy5vblJlc3VtZSggbWV0YSApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb25wYXVzZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKCBvcHRzLm9uUGF1c2UgKSB7XG4gICAgICAgICAgICBvcHRzLm9uUGF1c2UoIG1ldGEgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgb25zdG9wOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAoIG9wdHMub25TdG9wICkge1xuICAgICAgICAgICAgb3B0cy5vblN0b3AoIG1ldGEgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgb25maW5pc2g6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmICggb3B0cy5vbkZpbmlzaCApIHtcbiAgICAgICAgICAgIG9wdHMub25GaW5pc2goKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCAhX2lzTGFzdFRyYWNrKCkgKSB7XG4gICAgICAgICAgICBfbmV4dCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICB3aGlsZWxvYWRpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmICggb3B0cy53aGlsZUxvYWRpbmcgKSB7XG4gICAgICAgICAgICB2YXIgYW1udExvYWRlZCA9IF9kZXRlcm1pbmVCeXRlc0xvYWRlZCggdGhpcyApO1xuICAgICAgICAgICAgb3B0cy53aGlsZUxvYWRpbmcoIGFtbnRMb2FkZWQgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgd2hpbGVwbGF5aW5nOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAoIG9wdHMud2hpbGVQbGF5aW5nICkge1xuICAgICAgICAgICAgdmFyIHRpbWVQcm9ncmVzcyAgICA9IF9kZXRlcm1pbmVUaW1lUHJvZ3Jlc3MoIHRoaXMgKTtcbiAgICAgICAgICAgIHZhciBwZXJjZW50Q29tcGxldGUgPSBfZGV0ZXJtaW5lQnl0ZVByb2dyZXNzKCB0aGlzICk7XG4gICAgICAgICAgICBvcHRzLndoaWxlUGxheWluZyggdGltZVByb2dyZXNzLCBwZXJjZW50Q29tcGxldGUgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9IC8vIGVuZCBjcmVhdGUgc291bmRcblxuICAgIGZ1bmN0aW9uIF9pc0xhc3RUcmFjaygpIHtcbiAgICAgIHJldHVybiAoIF9kYXRhLmN1cnJlbnRUcmFjayA9PT0gKCBfZGF0YS5zb25ncy5sZW5ndGggLSAxICkgKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfZGV0ZXJtaW5lQnl0ZXNMb2FkZWQoIHNvdW5kICkge1xuICAgICAgcmV0dXJuIHNvdW5kLmJ5dGVzTG9hZGVkIC8gc291bmQuYnl0ZXNUb3RhbDtcbiAgICB9XG5cbiAgICAvLyBkZXRlcm1pbmUgaG93IGZhciBhbG9uZyBhIHNvbmcgaXMgaW4gdGVybXMgb2YgaG93IG1hbnkgYnl0ZXNcbiAgICAvLyBoYXZlIGJlZW4gcGxheWVkIGluIHJlbGF0aW9uIHRvIHRoZSB0b3RhbCBieXRlc1xuICAgIGZ1bmN0aW9uIF9kZXRlcm1pbmVCeXRlUHJvZ3Jlc3MoIHNvdW5kICkge1xuICAgICAgdmFyIHBvcyA9IHNvdW5kLnBvc2l0aW9uO1xuICAgICAgdmFyIGR1cmF0aW9uID0gMDtcbiAgICAgIHZhciBsb2FkZWRSYXRpbyA9IHNvdW5kLmJ5dGVzTG9hZGVkIC8gc291bmQuYnl0ZXNUb3RhbDtcblxuICAgICAgaWYgKCBzb3VuZC5sb2FkZWQgPT09IGZhbHNlKSB7XG4gICAgICAgIGR1cmF0aW9uID0gc291bmQuZHVyYXRpb25Fc3RpbWF0ZTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBkdXJhdGlvbiA9IHNvdW5kLmR1cmF0aW9uO1xuICAgICAgfVxuXG4gICAgICB2YXIgcG9zaXRpb25SYXRpbyA9IHBvcyAvIGR1cmF0aW9uO1xuXG4gICAgICByZXR1cm4gKCBwb3NpdGlvblJhdGlvLnRvRml4ZWQoIDIgKSAqIDEwMCApLnRvRml4ZWQoIDAgKTtcbiAgICB9XG5cbiAgICAvLyBkZXRlcm1pbmUgdGhlIGN1cnJlbnQgc29uZydzIHBvc2l0aW9uIGluIHRpbWUgbW06c3MgLyBtbTpzc1xuICAgIGZ1bmN0aW9uIF9kZXRlcm1pbmVUaW1lUHJvZ3Jlc3MoIHNvdW5kICkge1xuICAgICAgdmFyIGR1cmF0aW9uID0gc291bmQubG9hZGVkID09PSB0cnVlID8gc291bmQuZHVyYXRpb24gOiBzb3VuZC5kdXJhdGlvbkVzdGltYXRlO1xuICAgICAgdmFyIGN1cnIgPSBVdGlscy5taWxsc1RvVGltZSggc291bmQucG9zaXRpb24gKTtcbiAgICAgIHZhciB0b3RhbCA9IFV0aWxzLm1pbGxzVG9UaW1lKCBkdXJhdGlvbiApO1xuICAgICAgdmFyIHRpbWUgPSB7XG4gICAgICAgIGN1cnJlbnQ6IHtcbiAgICAgICAgICBtaW46IGN1cnIubWlucyxcbiAgICAgICAgICBzZWM6IGN1cnIuc2VjcyxcbiAgICAgICAgfSxcbiAgICAgICAgdG90YWw6IHtcbiAgICAgICAgICBtaW46IHRvdGFsLm1pbnMsXG4gICAgICAgICAgc2VjOiB0b3RhbC5zZWNzXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICByZXR1cm4gdGltZTtcbiAgICB9XG5cbiAgICAvLyBzdG9wIGFsbCBwbGF5aW5nIHNvdW5kc1xuICAgIGZ1bmN0aW9uIF9zdG9wKCkge1xuICAgICAgc291bmRNYW5hZ2VyLnN0b3BBbGwoKTtcbiAgICAgIHJldHVybiBfYXBpO1xuICAgIH1cblxuICAgIC8vIHBsYXkgYSBzb25nIGF0IHRoZSBnaXZlbiBpbmRleFxuICAgIGZ1bmN0aW9uIF9wbGF5KCBpbmRleCApIHtcbiAgICAgIC8vIGlmIGFuIGluZGV4IGlzIHN1cHBsaWVkIHBsYXkgYSBzcGVjaWZpYyBzb25nXG4gICAgICAvLyBvdGhlcndpc2UganVzdCBwbGF5IHRoZSBjdXJyZW50IHNvbmdcbiAgICAgIGlmICggaW5kZXggKSB7XG4gICAgICAgIF9kYXRhLmN1cnJlbnRUcmFjayA9IGluZGV4O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5kZXggPSBfZGF0YS5jdXJyZW50VHJhY2s7XG4gICAgICB9XG5cbiAgICAgIHZhciBzb3VuZCA9IF9kYXRhLnNvbmdzWyBpbmRleCBdO1xuXG4gICAgICAvLyBjaGVjayBpZiB3ZSdyZSBpbiBhIHBhdXNlZCBzdGF0ZS4gaWYgbm90LCBwbGF5IGZyb20gdGhlIGJlZ2lubmluZy5cbiAgICAgIC8vIGlmIHdlIGFyZSwgdGhlbiByZXN1bWUgcGxheVxuICAgICAgaWYgKCBzb3VuZCAmJiAhVXRpbHMuc2hvdWxkUmVzdW1lKCBzb3VuZCApICkge1xuICAgICAgICBfc3RvcCgpO1xuICAgICAgICBzb3VuZC5yYXcucGxheSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc291bmQucmF3LnRvZ2dsZVBhdXNlKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gX2FwaTtcbiAgICB9XG5cbiAgICAvLyBwYXVzZSBhbGwgc29uZ3NcbiAgICBmdW5jdGlvbiBfcGF1c2UoKSB7XG4gICAgICBzb3VuZE1hbmFnZXIucGF1c2VBbGwoKTtcbiAgICAgIHJldHVybiBfYXBpO1xuICAgIH1cblxuICAgIC8vIHBsYXkgdGhlIG5leHQgc29uZ1xuICAgIGZ1bmN0aW9uIF9uZXh0KCkge1xuICAgICAgX3N0b3AoKTtcbiAgICAgIF9yZXNldFNvdW5kKCBfZGF0YS5jdXJyZW50VHJhY2sgKTtcbiAgICAgIF9kYXRhLmN1cnJlbnRUcmFjayA9IF9kYXRhLmN1cnJlbnRUcmFjayArIDE7XG4gICAgICBpZiAoIF9kYXRhLmN1cnJlbnRUcmFjayA+ICggX2RhdGEuc29uZ3MubGVuZ3RoIC0gMSApICkge1xuICAgICAgICBfZGF0YS5jdXJyZW50VHJhY2sgPSAwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIF9wbGF5KCk7XG4gICAgfVxuXG4gICAgLy8gcGxheSB0aGUgcHJldmlvdXMgc29uZ1xuICAgIGZ1bmN0aW9uIF9wcmV2KCkge1xuICAgICAgX3N0b3AoKTtcbiAgICAgIF9yZXNldFNvdW5kKCBfZGF0YS5jdXJyZW50VHJhY2sgKTtcbiAgICAgIF9kYXRhLmN1cnJlbnRUcmFjayAtPSAxO1xuICAgICAgaWYgKCBfZGF0YS5jdXJyZW50VHJhY2sgPCAwICkge1xuICAgICAgICB2YXIgc29uZyA9IF9kYXRhLnNvbmdzWyBfZGF0YS5zb25ncy5sZW5ndGggLSAxIF07XG4gICAgICAgIF9kYXRhLmN1cnJlbnRUcmFjayA9IHNvbmcuaWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gX3BsYXkoKTtcbiAgICB9XG5cbiAgICAvLyB0byBiZSBmaXJlZCB3aGVuIHRoZSBwbGF5ZXIgaXMgcmVhZHkgdG8gZ29cbiAgICBmdW5jdGlvbiBfb25SZWFkeShjYikge1xuICAgICAgdmFyIGZpcnN0U29uZyA9IF9kYXRhLnNvbmdzWyAwIF07XG4gICAgICBpZiAoIGNiICkge1xuICAgICAgICBzb3VuZE1hbmFnZXIub25yZWFkeSggY2IuYmluZCggX2FwaSwgWyBfZGF0YS5maXJzdFRyYWNrIF0gKSApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIF9hcGk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX29uRXJyb3IoY2IpIHtcbiAgICAgIGlmICggY2IgKSB7XG4gICAgICAgIHNvdW5kTWFuYWdlci5vbmVycm9yKCBjYi5iaW5kKCBfYXBpICkgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfYXBpO1xuICAgIH1cblxuICAgIC8vIHJlc2V0cyB0aGUgY3VycmVudCBwb3NpdGlvbiBmb3IgYSBzb25nIHRvIDBcbiAgICBmdW5jdGlvbiBfcmVzZXRTb3VuZCggaW5kZXggKSB7XG4gICAgICB2YXIgaWQgPSBVdGlscy5mb3JtSWQoIGluZGV4ICk7XG4gICAgICBzb3VuZE1hbmFnZXIuZ2V0U291bmRCeUlkKCBpZCApLnBvc2l0aW9uID0gMDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfY3Vyc29yKCBpbmRleCApIHtcbiAgICAgIGluZGV4ID0gKCBpbmRleCA+IDAgJiYgaW5kZXggPCAoIF9kYXRhLnNvbmdzLmxlbmd0aCAtIDEgKSApID8gaW5kZXggOiAwO1xuICAgICAgX2RhdGEuY3VycmVudFRyYWNrID0gaW5kZXg7XG4gICAgICB2YXIgc29uZyA9IF9kYXRhLnNvbmdzWyBpbmRleCBdO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGl0bGU6IHNvbmcudGl0bGUsXG4gICAgICAgIGFydDogc29uZy5hcnQsXG4gICAgICAgIGlkOiBzb25nLmlkLFxuICAgICAgICBhcnRpc3Q6IHNvbmcuYXJ0aXN0XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIGV4cG9zZSBhcGlcbiAgICBfYXBpLmluaXQgICAgID0gaW5pdDtcbiAgICBfYXBpLm9uUmVhZHkgID0gX29uUmVhZHk7XG4gICAgX2FwaS5vbkVycm9yICA9IF9vbkVycm9yO1xuICAgIF9hcGkuc3RvcCAgICAgPSBfc3RvcDtcbiAgICBfYXBpLnBsYXkgICAgID0gX3BsYXk7XG4gICAgX2FwaS5wYXVzZSAgICA9IF9wYXVzZTtcbiAgICBfYXBpLm5leHQgICAgID0gX25leHQ7XG4gICAgX2FwaS5wcmV2ICAgICA9IF9wcmV2O1xuICAgIF9hcGkuY3Vyc29yICAgPSBfY3Vyc29yO1xuXG4gICAgcmV0dXJuIF9hcGk7XG4gIH07XG5cblxuICBpZiAoIHR5cGVvZiBkZWZpbmUgIT09ICd1bmRlZmluZWQnICYmIGRlZmluZS5hbWQgKSB7XG4gICAgZGVmaW5lKFtdLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gU3dhZ2dQbGF5ZXI7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgd2luZG93LlN3YWdnUGxheWVyID0gU3dhZ2dQbGF5ZXI7XG4gIH1cblxufSgpICk7IiwiXG47KGZ1bmN0aW9uKCl7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBTb25nID0gZnVuY3Rpb24oIG9wdHMgKSB7XG4gICAgdGhpcy50aXRsZSAgICA9IG9wdHMudGl0bGU7XG4gICAgdGhpcy5hcnRpc3QgICA9IG9wdHMuYXJ0aXN0O1xuICAgIHRoaXMudXJsICAgICAgPSBvcHRzLnVybDtcbiAgICB0aGlzLmFydCAgICAgID0gb3B0cy5hcnQ7XG4gICAgdGhpcy5pZCAgICAgICA9IG9wdHMuaWQ7XG4gIH07XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBTb25nO1xuXG59KCkpOyIsIi8qKiBAbGljZW5zZVxyXG4gKlxyXG4gKiBTb3VuZE1hbmFnZXIgMjogSmF2YVNjcmlwdCBTb3VuZCBmb3IgdGhlIFdlYlxyXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAqIGh0dHA6Ly9zY2hpbGxtYW5pYS5jb20vcHJvamVjdHMvc291bmRtYW5hZ2VyMi9cclxuICpcclxuICogQ29weXJpZ2h0IChjKSAyMDA3LCBTY290dCBTY2hpbGxlci4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogQ29kZSBwcm92aWRlZCB1bmRlciB0aGUgQlNEIExpY2Vuc2U6XHJcbiAqIGh0dHA6Ly9zY2hpbGxtYW5pYS5jb20vcHJvamVjdHMvc291bmRtYW5hZ2VyMi9saWNlbnNlLnR4dFxyXG4gKlxyXG4gKiBWMi45N2EuMjAxMzEyMDFcclxuICovXHJcbihmdW5jdGlvbihnLGspe2Z1bmN0aW9uIFUoVSxrYSl7ZnVuY3Rpb24gVihiKXtyZXR1cm4gYy5wcmVmZXJGbGFzaCYmdiYmIWMuaWdub3JlRmxhc2gmJmMuZmxhc2hbYl0hPT1rJiZjLmZsYXNoW2JdfWZ1bmN0aW9uIHEoYil7cmV0dXJuIGZ1bmN0aW9uKGMpe3ZhciBkPXRoaXMuX3M7cmV0dXJuIWR8fCFkLl9hP251bGw6Yi5jYWxsKHRoaXMsYyl9fXRoaXMuc2V0dXBPcHRpb25zPXt1cmw6VXx8bnVsbCxmbGFzaFZlcnNpb246OCxkZWJ1Z01vZGU6ITAsZGVidWdGbGFzaDohMSx1c2VDb25zb2xlOiEwLGNvbnNvbGVPbmx5OiEwLHdhaXRGb3JXaW5kb3dMb2FkOiExLGJnQ29sb3I6XCIjZmZmZmZmXCIsdXNlSGlnaFBlcmZvcm1hbmNlOiExLGZsYXNoUG9sbGluZ0ludGVydmFsOm51bGwsaHRtbDVQb2xsaW5nSW50ZXJ2YWw6bnVsbCxmbGFzaExvYWRUaW1lb3V0OjFFMyx3bW9kZTpudWxsLGFsbG93U2NyaXB0QWNjZXNzOlwiYWx3YXlzXCIsdXNlRmxhc2hCbG9jazohMSx1c2VIVE1MNUF1ZGlvOiEwLFxuaHRtbDVUZXN0Oi9eKHByb2JhYmx5fG1heWJlKSQvaSxwcmVmZXJGbGFzaDohMSxub1NXRkNhY2hlOiExLGlkUHJlZml4Olwic291bmRcIn07dGhpcy5kZWZhdWx0T3B0aW9ucz17YXV0b0xvYWQ6ITEsYXV0b1BsYXk6ITEsZnJvbTpudWxsLGxvb3BzOjEsb25pZDM6bnVsbCxvbmxvYWQ6bnVsbCx3aGlsZWxvYWRpbmc6bnVsbCxvbnBsYXk6bnVsbCxvbnBhdXNlOm51bGwsb25yZXN1bWU6bnVsbCx3aGlsZXBsYXlpbmc6bnVsbCxvbnBvc2l0aW9uOm51bGwsb25zdG9wOm51bGwsb25mYWlsdXJlOm51bGwsb25maW5pc2g6bnVsbCxtdWx0aVNob3Q6ITAsbXVsdGlTaG90RXZlbnRzOiExLHBvc2l0aW9uOm51bGwscGFuOjAsc3RyZWFtOiEwLHRvOm51bGwsdHlwZTpudWxsLHVzZVBvbGljeUZpbGU6ITEsdm9sdW1lOjEwMH07dGhpcy5mbGFzaDlPcHRpb25zPXtpc01vdmllU3RhcjpudWxsLHVzZVBlYWtEYXRhOiExLHVzZVdhdmVmb3JtRGF0YTohMSx1c2VFUURhdGE6ITEsb25idWZmZXJjaGFuZ2U6bnVsbCxcbm9uZGF0YWVycm9yOm51bGx9O3RoaXMubW92aWVTdGFyT3B0aW9ucz17YnVmZmVyVGltZTozLHNlcnZlclVSTDpudWxsLG9uY29ubmVjdDpudWxsLGR1cmF0aW9uOm51bGx9O3RoaXMuYXVkaW9Gb3JtYXRzPXttcDM6e3R5cGU6WydhdWRpby9tcGVnOyBjb2RlY3NcXHgzZFwibXAzXCInLFwiYXVkaW8vbXBlZ1wiLFwiYXVkaW8vbXAzXCIsXCJhdWRpby9NUEFcIixcImF1ZGlvL21wYS1yb2J1c3RcIl0scmVxdWlyZWQ6ITB9LG1wNDp7cmVsYXRlZDpbXCJhYWNcIixcIm00YVwiLFwibTRiXCJdLHR5cGU6WydhdWRpby9tcDQ7IGNvZGVjc1xceDNkXCJtcDRhLjQwLjJcIicsXCJhdWRpby9hYWNcIixcImF1ZGlvL3gtbTRhXCIsXCJhdWRpby9NUDRBLUxBVE1cIixcImF1ZGlvL21wZWc0LWdlbmVyaWNcIl0scmVxdWlyZWQ6ITF9LG9nZzp7dHlwZTpbXCJhdWRpby9vZ2c7IGNvZGVjc1xceDNkdm9yYmlzXCJdLHJlcXVpcmVkOiExfSxvcHVzOnt0eXBlOltcImF1ZGlvL29nZzsgY29kZWNzXFx4M2RvcHVzXCIsXCJhdWRpby9vcHVzXCJdLHJlcXVpcmVkOiExfSxcbndhdjp7dHlwZTpbJ2F1ZGlvL3dhdjsgY29kZWNzXFx4M2RcIjFcIicsXCJhdWRpby93YXZcIixcImF1ZGlvL3dhdmVcIixcImF1ZGlvL3gtd2F2XCJdLHJlcXVpcmVkOiExfX07dGhpcy5tb3ZpZUlEPVwic20yLWNvbnRhaW5lclwiO3RoaXMuaWQ9a2F8fFwic20ybW92aWVcIjt0aGlzLmRlYnVnSUQ9XCJzb3VuZG1hbmFnZXItZGVidWdcIjt0aGlzLmRlYnVnVVJMUGFyYW09LyhbIz8mXSlkZWJ1Zz0xL2k7dGhpcy52ZXJzaW9uTnVtYmVyPVwiVjIuOTdhLjIwMTMxMjAxXCI7dGhpcy5hbHRVUkw9dGhpcy5tb3ZpZVVSTD10aGlzLnZlcnNpb249bnVsbDt0aGlzLmVuYWJsZWQ9dGhpcy5zd2ZMb2FkZWQ9ITE7dGhpcy5vTUM9bnVsbDt0aGlzLnNvdW5kcz17fTt0aGlzLnNvdW5kSURzPVtdO3RoaXMuZGlkRmxhc2hCbG9jaz10aGlzLm11dGVkPSExO3RoaXMuZmlsZVBhdHRlcm49bnVsbDt0aGlzLmZpbGVQYXR0ZXJucz17Zmxhc2g4Oi9cXC5tcDMoXFw/LiopPyQvaSxmbGFzaDk6L1xcLm1wMyhcXD8uKik/JC9pfTt0aGlzLmZlYXR1cmVzPVxue2J1ZmZlcmluZzohMSxwZWFrRGF0YTohMSx3YXZlZm9ybURhdGE6ITEsZXFEYXRhOiExLG1vdmllU3RhcjohMX07dGhpcy5zYW5kYm94PXt9O3RoaXMuaHRtbDU9e3VzaW5nRmxhc2g6bnVsbH07dGhpcy5mbGFzaD17fTt0aGlzLmlnbm9yZUZsYXNoPXRoaXMuaHRtbDVPbmx5PSExO3ZhciBKYSxjPXRoaXMsS2E9bnVsbCxsPW51bGwsVyxzPW5hdmlnYXRvci51c2VyQWdlbnQsTGE9Zy5sb2NhdGlvbi5ocmVmLnRvU3RyaW5nKCksbj1kb2N1bWVudCxsYSxNYSxtYSxtLHg9W10sSz0hMSxMPSExLHA9ITEseT0hMSxuYT0hMSxNLHcsb2EsWCxwYSxELEUsRixOYSxxYSxyYSxZLHNhLFosdGEsRyx1YSxOLHZhLCQsSCxPYSx3YSxQYSx4YSxRYSxPPW51bGwseWE9bnVsbCxQLHphLEksYWEsYmEscixRPSExLEFhPSExLFJhLFNhLFRhLGNhPTAsUj1udWxsLGRhLFVhPVtdLFMsdT1udWxsLFZhLGVhLFQseixmYSxCYSxXYSx0LGZiPUFycmF5LnByb3RvdHlwZS5zbGljZSxBPSExLENhLHYsRGEsXG5YYSxCLGdhLFlhPTAsaGE9cy5tYXRjaCgvKGlwYWR8aXBob25lfGlwb2QpL2kpLFphPXMubWF0Y2goL2FuZHJvaWQvaSksQz1zLm1hdGNoKC9tc2llL2kpLGdiPXMubWF0Y2goL3dlYmtpdC9pKSxpYT1zLm1hdGNoKC9zYWZhcmkvaSkmJiFzLm1hdGNoKC9jaHJvbWUvaSksRWE9cy5tYXRjaCgvb3BlcmEvaSksRmE9cy5tYXRjaCgvKG1vYmlsZXxwcmVcXC98eG9vbSkvaSl8fGhhfHxaYSwkYT0hTGEubWF0Y2goL3VzZWh0bWw1YXVkaW8vaSkmJiFMYS5tYXRjaCgvc20yXFwtaWdub3JlYmFkdWEvaSkmJmlhJiYhcy5tYXRjaCgvc2lsay9pKSYmcy5tYXRjaCgvT1MgWCAxMF82XyhbMy03XSkvaSksR2E9bi5oYXNGb2N1cyE9PWs/bi5oYXNGb2N1cygpOm51bGwsamE9aWEmJihuLmhhc0ZvY3VzPT09a3x8IW4uaGFzRm9jdXMoKSksYWI9IWphLGJiPS8obXAzfG1wNHxtcGF8bTRhfG00YikvaSxIYT1uLmxvY2F0aW9uP24ubG9jYXRpb24ucHJvdG9jb2wubWF0Y2goL2h0dHAvaSk6bnVsbCxjYj1cbiFIYT9cImh0dHA6Ly9cIjpcIlwiLGRiPS9eXFxzKmF1ZGlvXFwvKD86eC0pPyg/Om1wZWc0fGFhY3xmbHZ8bW92fG1wNHx8bTR2fG00YXxtNGJ8bXA0dnwzZ3B8M2cyKVxccyooPzokfDspL2ksZWI9XCJtcGVnNCBhYWMgZmx2IG1vdiBtcDQgbTR2IGY0diBtNGEgbTRiIG1wNHYgM2dwIDNnMlwiLnNwbGl0KFwiIFwiKSxoYj1SZWdFeHAoXCJcXFxcLihcIitlYi5qb2luKFwifFwiKStcIikoXFxcXD8uKik/JFwiLFwiaVwiKTt0aGlzLm1pbWVQYXR0ZXJuPS9eXFxzKmF1ZGlvXFwvKD86eC0pPyg/Om1wKD86ZWd8MykpXFxzKig/OiR8OykvaTt0aGlzLnVzZUFsdFVSTD0hSGE7dmFyIElhO3RyeXtJYT1BdWRpbyE9PWsmJihFYSYmb3BlcmEhPT1rJiYxMD5vcGVyYS52ZXJzaW9uKCk/bmV3IEF1ZGlvKG51bGwpOm5ldyBBdWRpbykuY2FuUGxheVR5cGUhPT1rfWNhdGNoKGliKXtJYT0hMX10aGlzLmhhc0hUTUw1PUlhO3RoaXMuc2V0dXA9ZnVuY3Rpb24oYil7dmFyIGU9IWMudXJsO2IhPT1rJiZwJiZ1JiZjLm9rKCk7b2EoYik7YiYmXG4oZSYmKE4mJmIudXJsIT09aykmJmMuYmVnaW5EZWxheWVkSW5pdCgpLCFOJiYoYi51cmwhPT1rJiZcImNvbXBsZXRlXCI9PT1uLnJlYWR5U3RhdGUpJiZzZXRUaW1lb3V0KEcsMSkpO3JldHVybiBjfTt0aGlzLnN1cHBvcnRlZD10aGlzLm9rPWZ1bmN0aW9uKCl7cmV0dXJuIHU/cCYmIXk6Yy51c2VIVE1MNUF1ZGlvJiZjLmhhc0hUTUw1fTt0aGlzLmdldE1vdmllPWZ1bmN0aW9uKGIpe3JldHVybiBXKGIpfHxuW2JdfHxnW2JdfTt0aGlzLmNyZWF0ZVNvdW5kPWZ1bmN0aW9uKGIsZSl7ZnVuY3Rpb24gZCgpe2E9YWEoYSk7Yy5zb3VuZHNbYS5pZF09bmV3IEphKGEpO2Muc291bmRJRHMucHVzaChhLmlkKTtyZXR1cm4gYy5zb3VuZHNbYS5pZF19dmFyIGEsZj1udWxsO2lmKCFwfHwhYy5vaygpKXJldHVybiExO2UhPT1rJiYoYj17aWQ6Yix1cmw6ZX0pO2E9dyhiKTthLnVybD1kYShhLnVybCk7dm9pZCAwPT09YS5pZCYmKGEuaWQ9Yy5zZXR1cE9wdGlvbnMuaWRQcmVmaXgrWWErKyk7aWYocihhLmlkLFxuITApKXJldHVybiBjLnNvdW5kc1thLmlkXTtpZihlYShhKSlmPWQoKSxmLl9zZXR1cF9odG1sNShhKTtlbHNle2lmKGMuaHRtbDVPbmx5fHxjLmh0bWw1LnVzaW5nRmxhc2gmJmEudXJsJiZhLnVybC5tYXRjaCgvZGF0YVxcOi9pKSlyZXR1cm4gZCgpOzg8bSYmbnVsbD09PWEuaXNNb3ZpZVN0YXImJihhLmlzTW92aWVTdGFyPSEoIWEuc2VydmVyVVJMJiYhKGEudHlwZSYmYS50eXBlLm1hdGNoKGRiKXx8YS51cmwmJmEudXJsLm1hdGNoKGhiKSkpKTthPWJhKGEsdm9pZCAwKTtmPWQoKTs4PT09bT9sLl9jcmVhdGVTb3VuZChhLmlkLGEubG9vcHN8fDEsYS51c2VQb2xpY3lGaWxlKToobC5fY3JlYXRlU291bmQoYS5pZCxhLnVybCxhLnVzZVBlYWtEYXRhLGEudXNlV2F2ZWZvcm1EYXRhLGEudXNlRVFEYXRhLGEuaXNNb3ZpZVN0YXIsYS5pc01vdmllU3Rhcj9hLmJ1ZmZlclRpbWU6ITEsYS5sb29wc3x8MSxhLnNlcnZlclVSTCxhLmR1cmF0aW9ufHxudWxsLGEuYXV0b1BsYXksITAsYS5hdXRvTG9hZCxcbmEudXNlUG9saWN5RmlsZSksYS5zZXJ2ZXJVUkx8fChmLmNvbm5lY3RlZD0hMCxhLm9uY29ubmVjdCYmYS5vbmNvbm5lY3QuYXBwbHkoZikpKTshYS5zZXJ2ZXJVUkwmJihhLmF1dG9Mb2FkfHxhLmF1dG9QbGF5KSYmZi5sb2FkKGEpfSFhLnNlcnZlclVSTCYmYS5hdXRvUGxheSYmZi5wbGF5KCk7cmV0dXJuIGZ9O3RoaXMuZGVzdHJveVNvdW5kPWZ1bmN0aW9uKGIsZSl7aWYoIXIoYikpcmV0dXJuITE7dmFyIGQ9Yy5zb3VuZHNbYl0sYTtkLl9pTz17fTtkLnN0b3AoKTtkLnVubG9hZCgpO2ZvcihhPTA7YTxjLnNvdW5kSURzLmxlbmd0aDthKyspaWYoYy5zb3VuZElEc1thXT09PWIpe2Muc291bmRJRHMuc3BsaWNlKGEsMSk7YnJlYWt9ZXx8ZC5kZXN0cnVjdCghMCk7ZGVsZXRlIGMuc291bmRzW2JdO3JldHVybiEwfTt0aGlzLmxvYWQ9ZnVuY3Rpb24oYixlKXtyZXR1cm4hcihiKT8hMTpjLnNvdW5kc1tiXS5sb2FkKGUpfTt0aGlzLnVubG9hZD1mdW5jdGlvbihiKXtyZXR1cm4hcihiKT9cbiExOmMuc291bmRzW2JdLnVubG9hZCgpfTt0aGlzLm9ucG9zaXRpb249dGhpcy5vblBvc2l0aW9uPWZ1bmN0aW9uKGIsZSxkLGEpe3JldHVybiFyKGIpPyExOmMuc291bmRzW2JdLm9ucG9zaXRpb24oZSxkLGEpfTt0aGlzLmNsZWFyT25Qb3NpdGlvbj1mdW5jdGlvbihiLGUsZCl7cmV0dXJuIXIoYik/ITE6Yy5zb3VuZHNbYl0uY2xlYXJPblBvc2l0aW9uKGUsZCl9O3RoaXMuc3RhcnQ9dGhpcy5wbGF5PWZ1bmN0aW9uKGIsZSl7dmFyIGQ9bnVsbCxhPWUmJiEoZSBpbnN0YW5jZW9mIE9iamVjdCk7aWYoIXB8fCFjLm9rKCkpcmV0dXJuITE7aWYocihiLGEpKWEmJihlPXt1cmw6ZX0pO2Vsc2V7aWYoIWEpcmV0dXJuITE7YSYmKGU9e3VybDplfSk7ZSYmZS51cmwmJihlLmlkPWIsZD1jLmNyZWF0ZVNvdW5kKGUpLnBsYXkoKSl9bnVsbD09PWQmJihkPWMuc291bmRzW2JdLnBsYXkoZSkpO3JldHVybiBkfTt0aGlzLnNldFBvc2l0aW9uPWZ1bmN0aW9uKGIsZSl7cmV0dXJuIXIoYik/ITE6Yy5zb3VuZHNbYl0uc2V0UG9zaXRpb24oZSl9O1xudGhpcy5zdG9wPWZ1bmN0aW9uKGIpe3JldHVybiFyKGIpPyExOmMuc291bmRzW2JdLnN0b3AoKX07dGhpcy5zdG9wQWxsPWZ1bmN0aW9uKCl7Zm9yKHZhciBiIGluIGMuc291bmRzKWMuc291bmRzLmhhc093blByb3BlcnR5KGIpJiZjLnNvdW5kc1tiXS5zdG9wKCl9O3RoaXMucGF1c2U9ZnVuY3Rpb24oYil7cmV0dXJuIXIoYik/ITE6Yy5zb3VuZHNbYl0ucGF1c2UoKX07dGhpcy5wYXVzZUFsbD1mdW5jdGlvbigpe3ZhciBiO2ZvcihiPWMuc291bmRJRHMubGVuZ3RoLTE7MDw9YjtiLS0pYy5zb3VuZHNbYy5zb3VuZElEc1tiXV0ucGF1c2UoKX07dGhpcy5yZXN1bWU9ZnVuY3Rpb24oYil7cmV0dXJuIXIoYik/ITE6Yy5zb3VuZHNbYl0ucmVzdW1lKCl9O3RoaXMucmVzdW1lQWxsPWZ1bmN0aW9uKCl7dmFyIGI7Zm9yKGI9Yy5zb3VuZElEcy5sZW5ndGgtMTswPD1iO2ItLSljLnNvdW5kc1tjLnNvdW5kSURzW2JdXS5yZXN1bWUoKX07dGhpcy50b2dnbGVQYXVzZT1mdW5jdGlvbihiKXtyZXR1cm4hcihiKT9cbiExOmMuc291bmRzW2JdLnRvZ2dsZVBhdXNlKCl9O3RoaXMuc2V0UGFuPWZ1bmN0aW9uKGIsZSl7cmV0dXJuIXIoYik/ITE6Yy5zb3VuZHNbYl0uc2V0UGFuKGUpfTt0aGlzLnNldFZvbHVtZT1mdW5jdGlvbihiLGUpe3JldHVybiFyKGIpPyExOmMuc291bmRzW2JdLnNldFZvbHVtZShlKX07dGhpcy5tdXRlPWZ1bmN0aW9uKGIpe3ZhciBlPTA7YiBpbnN0YW5jZW9mIFN0cmluZyYmKGI9bnVsbCk7aWYoYilyZXR1cm4hcihiKT8hMTpjLnNvdW5kc1tiXS5tdXRlKCk7Zm9yKGU9Yy5zb3VuZElEcy5sZW5ndGgtMTswPD1lO2UtLSljLnNvdW5kc1tjLnNvdW5kSURzW2VdXS5tdXRlKCk7cmV0dXJuIGMubXV0ZWQ9ITB9O3RoaXMubXV0ZUFsbD1mdW5jdGlvbigpe2MubXV0ZSgpfTt0aGlzLnVubXV0ZT1mdW5jdGlvbihiKXtiIGluc3RhbmNlb2YgU3RyaW5nJiYoYj1udWxsKTtpZihiKXJldHVybiFyKGIpPyExOmMuc291bmRzW2JdLnVubXV0ZSgpO2ZvcihiPWMuc291bmRJRHMubGVuZ3RoLVxuMTswPD1iO2ItLSljLnNvdW5kc1tjLnNvdW5kSURzW2JdXS51bm11dGUoKTtjLm11dGVkPSExO3JldHVybiEwfTt0aGlzLnVubXV0ZUFsbD1mdW5jdGlvbigpe2MudW5tdXRlKCl9O3RoaXMudG9nZ2xlTXV0ZT1mdW5jdGlvbihiKXtyZXR1cm4hcihiKT8hMTpjLnNvdW5kc1tiXS50b2dnbGVNdXRlKCl9O3RoaXMuZ2V0TWVtb3J5VXNlPWZ1bmN0aW9uKCl7dmFyIGI9MDtsJiY4IT09bSYmKGI9cGFyc2VJbnQobC5fZ2V0TWVtb3J5VXNlKCksMTApKTtyZXR1cm4gYn07dGhpcy5kaXNhYmxlPWZ1bmN0aW9uKGIpe3ZhciBlO2I9PT1rJiYoYj0hMSk7aWYoeSlyZXR1cm4hMTt5PSEwO2ZvcihlPWMuc291bmRJRHMubGVuZ3RoLTE7MDw9ZTtlLS0pUGEoYy5zb3VuZHNbYy5zb3VuZElEc1tlXV0pO00oYik7dC5yZW1vdmUoZyxcImxvYWRcIixFKTtyZXR1cm4hMH07dGhpcy5jYW5QbGF5TUlNRT1mdW5jdGlvbihiKXt2YXIgZTtjLmhhc0hUTUw1JiYoZT1UKHt0eXBlOmJ9KSk7IWUmJnUmJihlPWImJlxuYy5vaygpPyEhKDg8bSYmYi5tYXRjaChkYil8fGIubWF0Y2goYy5taW1lUGF0dGVybikpOm51bGwpO3JldHVybiBlfTt0aGlzLmNhblBsYXlVUkw9ZnVuY3Rpb24oYil7dmFyIGU7Yy5oYXNIVE1MNSYmKGU9VCh7dXJsOmJ9KSk7IWUmJnUmJihlPWImJmMub2soKT8hIWIubWF0Y2goYy5maWxlUGF0dGVybik6bnVsbCk7cmV0dXJuIGV9O3RoaXMuY2FuUGxheUxpbms9ZnVuY3Rpb24oYil7cmV0dXJuIGIudHlwZSE9PWsmJmIudHlwZSYmYy5jYW5QbGF5TUlNRShiLnR5cGUpPyEwOmMuY2FuUGxheVVSTChiLmhyZWYpfTt0aGlzLmdldFNvdW5kQnlJZD1mdW5jdGlvbihiLGUpe3JldHVybiFiP251bGw6Yy5zb3VuZHNbYl19O3RoaXMub25yZWFkeT1mdW5jdGlvbihiLGMpe2lmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBiKWN8fChjPWcpLHBhKFwib25yZWFkeVwiLGIsYyksRCgpO2Vsc2UgdGhyb3cgUChcIm5lZWRGdW5jdGlvblwiLFwib25yZWFkeVwiKTtyZXR1cm4hMH07dGhpcy5vbnRpbWVvdXQ9ZnVuY3Rpb24oYixcbmMpe2lmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBiKWN8fChjPWcpLHBhKFwib250aW1lb3V0XCIsYixjKSxEKHt0eXBlOlwib250aW1lb3V0XCJ9KTtlbHNlIHRocm93IFAoXCJuZWVkRnVuY3Rpb25cIixcIm9udGltZW91dFwiKTtyZXR1cm4hMH07dGhpcy5fd0Q9dGhpcy5fd3JpdGVEZWJ1Zz1mdW5jdGlvbihiLGMpe3JldHVybiEwfTt0aGlzLl9kZWJ1Zz1mdW5jdGlvbigpe307dGhpcy5yZWJvb3Q9ZnVuY3Rpb24oYixlKXt2YXIgZCxhLGY7Zm9yKGQ9Yy5zb3VuZElEcy5sZW5ndGgtMTswPD1kO2QtLSljLnNvdW5kc1tjLnNvdW5kSURzW2RdXS5kZXN0cnVjdCgpO2lmKGwpdHJ5e0MmJih5YT1sLmlubmVySFRNTCksTz1sLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobCl9Y2F0Y2goayl7fXlhPU89dT1sPW51bGw7Yy5lbmFibGVkPU49cD1RPUFhPUs9TD15PUE9Yy5zd2ZMb2FkZWQ9ITE7Yy5zb3VuZElEcz1bXTtjLnNvdW5kcz17fTtZYT0wO2lmKGIpeD1bXTtlbHNlIGZvcihkIGluIHgpaWYoeC5oYXNPd25Qcm9wZXJ0eShkKSl7YT1cbjA7Zm9yKGY9eFtkXS5sZW5ndGg7YTxmO2ErKyl4W2RdW2FdLmZpcmVkPSExfWMuaHRtbDU9e3VzaW5nRmxhc2g6bnVsbH07Yy5mbGFzaD17fTtjLmh0bWw1T25seT0hMTtjLmlnbm9yZUZsYXNoPSExO2cuc2V0VGltZW91dChmdW5jdGlvbigpe3RhKCk7ZXx8Yy5iZWdpbkRlbGF5ZWRJbml0KCl9LDIwKTtyZXR1cm4gY307dGhpcy5yZXNldD1mdW5jdGlvbigpe3JldHVybiBjLnJlYm9vdCghMCwhMCl9O3RoaXMuZ2V0TW92aWVQZXJjZW50PWZ1bmN0aW9uKCl7cmV0dXJuIGwmJlwiUGVyY2VudExvYWRlZFwiaW4gbD9sLlBlcmNlbnRMb2FkZWQoKTpudWxsfTt0aGlzLmJlZ2luRGVsYXllZEluaXQ9ZnVuY3Rpb24oKXtuYT0hMDtHKCk7c2V0VGltZW91dChmdW5jdGlvbigpe2lmKEFhKXJldHVybiExOyQoKTtaKCk7cmV0dXJuIEFhPSEwfSwyMCk7RigpfTt0aGlzLmRlc3RydWN0PWZ1bmN0aW9uKCl7Yy5kaXNhYmxlKCEwKX07SmE9ZnVuY3Rpb24oYil7dmFyIGUsZCxhPXRoaXMsZixoLEosXG5nLG4scSxzPSExLHA9W10sdT0wLHgseSx2PW51bGwsejtkPWU9bnVsbDt0aGlzLnNJRD10aGlzLmlkPWIuaWQ7dGhpcy51cmw9Yi51cmw7dGhpcy5faU89dGhpcy5pbnN0YW5jZU9wdGlvbnM9dGhpcy5vcHRpb25zPXcoYik7dGhpcy5wYW49dGhpcy5vcHRpb25zLnBhbjt0aGlzLnZvbHVtZT10aGlzLm9wdGlvbnMudm9sdW1lO3RoaXMuaXNIVE1MNT0hMTt0aGlzLl9hPW51bGw7ej10aGlzLnVybD8hMTohMDt0aGlzLmlkMz17fTt0aGlzLl9kZWJ1Zz1mdW5jdGlvbigpe307dGhpcy5sb2FkPWZ1bmN0aW9uKGIpe3ZhciBlPW51bGwsZDtiIT09az9hLl9pTz13KGIsYS5vcHRpb25zKTooYj1hLm9wdGlvbnMsYS5faU89Yix2JiZ2IT09YS51cmwmJihhLl9pTy51cmw9YS51cmwsYS51cmw9bnVsbCkpO2EuX2lPLnVybHx8KGEuX2lPLnVybD1hLnVybCk7YS5faU8udXJsPWRhKGEuX2lPLnVybCk7ZD1hLmluc3RhbmNlT3B0aW9ucz1hLl9pTztpZighZC51cmwmJiFhLnVybClyZXR1cm4gYTtcbmlmKGQudXJsPT09YS51cmwmJjAhPT1hLnJlYWR5U3RhdGUmJjIhPT1hLnJlYWR5U3RhdGUpcmV0dXJuIDM9PT1hLnJlYWR5U3RhdGUmJmQub25sb2FkJiZnYShhLGZ1bmN0aW9uKCl7ZC5vbmxvYWQuYXBwbHkoYSxbISFhLmR1cmF0aW9uXSl9KSxhO2EubG9hZGVkPSExO2EucmVhZHlTdGF0ZT0xO2EucGxheVN0YXRlPTA7YS5pZDM9e307aWYoZWEoZCkpZT1hLl9zZXR1cF9odG1sNShkKSxlLl9jYWxsZWRfbG9hZHx8KGEuX2h0bWw1X2NhbnBsYXk9ITEsYS51cmwhPT1kLnVybCYmKGEuX2Euc3JjPWQudXJsLGEuc2V0UG9zaXRpb24oMCkpLGEuX2EuYXV0b2J1ZmZlcj1cImF1dG9cIixhLl9hLnByZWxvYWQ9XCJhdXRvXCIsYS5fYS5fY2FsbGVkX2xvYWQ9ITApO2Vsc2V7aWYoYy5odG1sNU9ubHl8fGEuX2lPLnVybCYmYS5faU8udXJsLm1hdGNoKC9kYXRhXFw6L2kpKXJldHVybiBhO3RyeXthLmlzSFRNTDU9ITEsYS5faU89YmEoYWEoZCkpLGQ9YS5faU8sOD09PW0/bC5fbG9hZChhLmlkLGQudXJsLFxuZC5zdHJlYW0sZC5hdXRvUGxheSxkLnVzZVBvbGljeUZpbGUpOmwuX2xvYWQoYS5pZCxkLnVybCwhIWQuc3RyZWFtLCEhZC5hdXRvUGxheSxkLmxvb3BzfHwxLCEhZC5hdXRvTG9hZCxkLnVzZVBvbGljeUZpbGUpfWNhdGNoKGYpe0goe3R5cGU6XCJTTVNPVU5EX0xPQURfSlNfRVhDRVBUSU9OXCIsZmF0YWw6ITB9KX19YS51cmw9ZC51cmw7cmV0dXJuIGF9O3RoaXMudW5sb2FkPWZ1bmN0aW9uKCl7MCE9PWEucmVhZHlTdGF0ZSYmKGEuaXNIVE1MNT8oZygpLGEuX2EmJihhLl9hLnBhdXNlKCksdj1mYShhLl9hKSkpOjg9PT1tP2wuX3VubG9hZChhLmlkLFwiYWJvdXQ6YmxhbmtcIik6bC5fdW5sb2FkKGEuaWQpLGYoKSk7cmV0dXJuIGF9O3RoaXMuZGVzdHJ1Y3Q9ZnVuY3Rpb24oYil7YS5pc0hUTUw1PyhnKCksYS5fYSYmKGEuX2EucGF1c2UoKSxmYShhLl9hKSxBfHxKKCksYS5fYS5fcz1udWxsLGEuX2E9bnVsbCkpOihhLl9pTy5vbmZhaWx1cmU9bnVsbCxsLl9kZXN0cm95U291bmQoYS5pZCkpO1xuYnx8Yy5kZXN0cm95U291bmQoYS5pZCwhMCl9O3RoaXMuc3RhcnQ9dGhpcy5wbGF5PWZ1bmN0aW9uKGIsZSl7dmFyIGQsZixoLGcsSjtmPSEwO2Y9bnVsbDtlPWU9PT1rPyEwOmU7Ynx8KGI9e30pO2EudXJsJiYoYS5faU8udXJsPWEudXJsKTthLl9pTz13KGEuX2lPLGEub3B0aW9ucyk7YS5faU89dyhiLGEuX2lPKTthLl9pTy51cmw9ZGEoYS5faU8udXJsKTthLmluc3RhbmNlT3B0aW9ucz1hLl9pTztpZighYS5pc0hUTUw1JiZhLl9pTy5zZXJ2ZXJVUkwmJiFhLmNvbm5lY3RlZClyZXR1cm4gYS5nZXRBdXRvUGxheSgpfHxhLnNldEF1dG9QbGF5KCEwKSxhO2VhKGEuX2lPKSYmKGEuX3NldHVwX2h0bWw1KGEuX2lPKSxuKCkpOzE9PT1hLnBsYXlTdGF0ZSYmIWEucGF1c2VkJiYoZD1hLl9pTy5tdWx0aVNob3QsZHx8KGEuaXNIVE1MNSYmYS5zZXRQb3NpdGlvbihhLl9pTy5wb3NpdGlvbiksZj1hKSk7aWYobnVsbCE9PWYpcmV0dXJuIGY7Yi51cmwmJmIudXJsIT09YS51cmwmJighYS5yZWFkeVN0YXRlJiZcbiFhLmlzSFRNTDUmJjg9PT1tJiZ6P3o9ITE6YS5sb2FkKGEuX2lPKSk7YS5sb2FkZWR8fCgwPT09YS5yZWFkeVN0YXRlPyghYS5pc0hUTUw1JiYhYy5odG1sNU9ubHk/KGEuX2lPLmF1dG9QbGF5PSEwLGEubG9hZChhLl9pTykpOmEuaXNIVE1MNT9hLmxvYWQoYS5faU8pOmY9YSxhLmluc3RhbmNlT3B0aW9ucz1hLl9pTyk6Mj09PWEucmVhZHlTdGF0ZSYmKGY9YSkpO2lmKG51bGwhPT1mKXJldHVybiBmOyFhLmlzSFRNTDUmJig5PT09bSYmMDxhLnBvc2l0aW9uJiZhLnBvc2l0aW9uPT09YS5kdXJhdGlvbikmJihiLnBvc2l0aW9uPTApO2lmKGEucGF1c2VkJiYwPD1hLnBvc2l0aW9uJiYoIWEuX2lPLnNlcnZlclVSTHx8MDxhLnBvc2l0aW9uKSlhLnJlc3VtZSgpO2Vsc2V7YS5faU89dyhiLGEuX2lPKTtpZihudWxsIT09YS5faU8uZnJvbSYmbnVsbCE9PWEuX2lPLnRvJiYwPT09YS5pbnN0YW5jZUNvdW50JiYwPT09YS5wbGF5U3RhdGUmJiFhLl9pTy5zZXJ2ZXJVUkwpe2Q9ZnVuY3Rpb24oKXthLl9pTz1cbncoYixhLl9pTyk7YS5wbGF5KGEuX2lPKX07aWYoYS5pc0hUTUw1JiYhYS5faHRtbDVfY2FucGxheSlhLmxvYWQoe19vbmNhbnBsYXk6ZH0pLGY9ITE7ZWxzZSBpZighYS5pc0hUTUw1JiYhYS5sb2FkZWQmJighYS5yZWFkeVN0YXRlfHwyIT09YS5yZWFkeVN0YXRlKSlhLmxvYWQoe29ubG9hZDpkfSksZj0hMTtpZihudWxsIT09ZilyZXR1cm4gZjthLl9pTz15KCl9KCFhLmluc3RhbmNlQ291bnR8fGEuX2lPLm11bHRpU2hvdEV2ZW50c3x8YS5pc0hUTUw1JiZhLl9pTy5tdWx0aVNob3QmJiFBfHwhYS5pc0hUTUw1JiY4PG0mJiFhLmdldEF1dG9QbGF5KCkpJiZhLmluc3RhbmNlQ291bnQrKzthLl9pTy5vbnBvc2l0aW9uJiYwPT09YS5wbGF5U3RhdGUmJnEoYSk7YS5wbGF5U3RhdGU9MTthLnBhdXNlZD0hMTthLnBvc2l0aW9uPWEuX2lPLnBvc2l0aW9uIT09ayYmIWlzTmFOKGEuX2lPLnBvc2l0aW9uKT9hLl9pTy5wb3NpdGlvbjowO2EuaXNIVE1MNXx8KGEuX2lPPWJhKGFhKGEuX2lPKSkpO1xuYS5faU8ub25wbGF5JiZlJiYoYS5faU8ub25wbGF5LmFwcGx5KGEpLHM9ITApO2Euc2V0Vm9sdW1lKGEuX2lPLnZvbHVtZSwhMCk7YS5zZXRQYW4oYS5faU8ucGFuLCEwKTthLmlzSFRNTDU/Mj5hLmluc3RhbmNlQ291bnQ/KG4oKSxmPWEuX3NldHVwX2h0bWw1KCksYS5zZXRQb3NpdGlvbihhLl9pTy5wb3NpdGlvbiksZi5wbGF5KCkpOihoPW5ldyBBdWRpbyhhLl9pTy51cmwpLGc9ZnVuY3Rpb24oKXt0LnJlbW92ZShoLFwiZW5kZWRcIixnKTthLl9vbmZpbmlzaChhKTtmYShoKTtoPW51bGx9LEo9ZnVuY3Rpb24oKXt0LnJlbW92ZShoLFwiY2FucGxheVwiLEopO3RyeXtoLmN1cnJlbnRUaW1lPWEuX2lPLnBvc2l0aW9uLzFFM31jYXRjaChiKXt9aC5wbGF5KCl9LHQuYWRkKGgsXCJlbmRlZFwiLGcpLHZvaWQgMCE9PWEuX2lPLnZvbHVtZSYmKGgudm9sdW1lPU1hdGgubWF4KDAsTWF0aC5taW4oMSxhLl9pTy52b2x1bWUvMTAwKSkpLGEubXV0ZWQmJihoLm11dGVkPSEwKSxhLl9pTy5wb3NpdGlvbj9cbnQuYWRkKGgsXCJjYW5wbGF5XCIsSik6aC5wbGF5KCkpOihmPWwuX3N0YXJ0KGEuaWQsYS5faU8ubG9vcHN8fDEsOT09PW0/YS5wb3NpdGlvbjphLnBvc2l0aW9uLzFFMyxhLl9pTy5tdWx0aVNob3R8fCExKSw5PT09bSYmIWYmJmEuX2lPLm9ucGxheWVycm9yJiZhLl9pTy5vbnBsYXllcnJvci5hcHBseShhKSl9cmV0dXJuIGF9O3RoaXMuc3RvcD1mdW5jdGlvbihiKXt2YXIgYz1hLl9pTzsxPT09YS5wbGF5U3RhdGUmJihhLl9vbmJ1ZmZlcmNoYW5nZSgwKSxhLl9yZXNldE9uUG9zaXRpb24oMCksYS5wYXVzZWQ9ITEsYS5pc0hUTUw1fHwoYS5wbGF5U3RhdGU9MCkseCgpLGMudG8mJmEuY2xlYXJPblBvc2l0aW9uKGMudG8pLGEuaXNIVE1MNT9hLl9hJiYoYj1hLnBvc2l0aW9uLGEuc2V0UG9zaXRpb24oMCksYS5wb3NpdGlvbj1iLGEuX2EucGF1c2UoKSxhLnBsYXlTdGF0ZT0wLGEuX29uVGltZXIoKSxnKCkpOihsLl9zdG9wKGEuaWQsYiksYy5zZXJ2ZXJVUkwmJmEudW5sb2FkKCkpLGEuaW5zdGFuY2VDb3VudD1cbjAsYS5faU89e30sYy5vbnN0b3AmJmMub25zdG9wLmFwcGx5KGEpKTtyZXR1cm4gYX07dGhpcy5zZXRBdXRvUGxheT1mdW5jdGlvbihiKXthLl9pTy5hdXRvUGxheT1iO2EuaXNIVE1MNXx8KGwuX3NldEF1dG9QbGF5KGEuaWQsYiksYiYmIWEuaW5zdGFuY2VDb3VudCYmMT09PWEucmVhZHlTdGF0ZSYmYS5pbnN0YW5jZUNvdW50KyspfTt0aGlzLmdldEF1dG9QbGF5PWZ1bmN0aW9uKCl7cmV0dXJuIGEuX2lPLmF1dG9QbGF5fTt0aGlzLnNldFBvc2l0aW9uPWZ1bmN0aW9uKGIpe2I9PT1rJiYoYj0wKTt2YXIgYz1hLmlzSFRNTDU/TWF0aC5tYXgoYiwwKTpNYXRoLm1pbihhLmR1cmF0aW9ufHxhLl9pTy5kdXJhdGlvbixNYXRoLm1heChiLDApKTthLnBvc2l0aW9uPWM7Yj1hLnBvc2l0aW9uLzFFMzthLl9yZXNldE9uUG9zaXRpb24oYS5wb3NpdGlvbik7YS5faU8ucG9zaXRpb249YztpZihhLmlzSFRNTDUpe2lmKGEuX2Epe2lmKGEuX2h0bWw1X2NhbnBsYXkpe2lmKGEuX2EuY3VycmVudFRpbWUhPT1cbmIpdHJ5e2EuX2EuY3VycmVudFRpbWU9YiwoMD09PWEucGxheVN0YXRlfHxhLnBhdXNlZCkmJmEuX2EucGF1c2UoKX1jYXRjaChlKXt9fWVsc2UgaWYoYilyZXR1cm4gYTthLnBhdXNlZCYmYS5fb25UaW1lcighMCl9fWVsc2UgYj05PT09bT9hLnBvc2l0aW9uOmIsYS5yZWFkeVN0YXRlJiYyIT09YS5yZWFkeVN0YXRlJiZsLl9zZXRQb3NpdGlvbihhLmlkLGIsYS5wYXVzZWR8fCFhLnBsYXlTdGF0ZSxhLl9pTy5tdWx0aVNob3QpO3JldHVybiBhfTt0aGlzLnBhdXNlPWZ1bmN0aW9uKGIpe2lmKGEucGF1c2VkfHwwPT09YS5wbGF5U3RhdGUmJjEhPT1hLnJlYWR5U3RhdGUpcmV0dXJuIGE7YS5wYXVzZWQ9ITA7YS5pc0hUTUw1PyhhLl9zZXR1cF9odG1sNSgpLnBhdXNlKCksZygpKTooYnx8Yj09PWspJiZsLl9wYXVzZShhLmlkLGEuX2lPLm11bHRpU2hvdCk7YS5faU8ub25wYXVzZSYmYS5faU8ub25wYXVzZS5hcHBseShhKTtyZXR1cm4gYX07dGhpcy5yZXN1bWU9ZnVuY3Rpb24oKXt2YXIgYj1cbmEuX2lPO2lmKCFhLnBhdXNlZClyZXR1cm4gYTthLnBhdXNlZD0hMTthLnBsYXlTdGF0ZT0xO2EuaXNIVE1MNT8oYS5fc2V0dXBfaHRtbDUoKS5wbGF5KCksbigpKTooYi5pc01vdmllU3RhciYmIWIuc2VydmVyVVJMJiZhLnNldFBvc2l0aW9uKGEucG9zaXRpb24pLGwuX3BhdXNlKGEuaWQsYi5tdWx0aVNob3QpKTshcyYmYi5vbnBsYXk/KGIub25wbGF5LmFwcGx5KGEpLHM9ITApOmIub25yZXN1bWUmJmIub25yZXN1bWUuYXBwbHkoYSk7cmV0dXJuIGF9O3RoaXMudG9nZ2xlUGF1c2U9ZnVuY3Rpb24oKXtpZigwPT09YS5wbGF5U3RhdGUpcmV0dXJuIGEucGxheSh7cG9zaXRpb246OT09PW0mJiFhLmlzSFRNTDU/YS5wb3NpdGlvbjphLnBvc2l0aW9uLzFFM30pLGE7YS5wYXVzZWQ/YS5yZXN1bWUoKTphLnBhdXNlKCk7cmV0dXJuIGF9O3RoaXMuc2V0UGFuPWZ1bmN0aW9uKGIsYyl7Yj09PWsmJihiPTApO2M9PT1rJiYoYz0hMSk7YS5pc0hUTUw1fHxsLl9zZXRQYW4oYS5pZCxiKTthLl9pTy5wYW49XG5iO2N8fChhLnBhbj1iLGEub3B0aW9ucy5wYW49Yik7cmV0dXJuIGF9O3RoaXMuc2V0Vm9sdW1lPWZ1bmN0aW9uKGIsZSl7Yj09PWsmJihiPTEwMCk7ZT09PWsmJihlPSExKTthLmlzSFRNTDU/YS5fYSYmKGMubXV0ZWQmJiFhLm11dGVkJiYoYS5tdXRlZD0hMCxhLl9hLm11dGVkPSEwKSxhLl9hLnZvbHVtZT1NYXRoLm1heCgwLE1hdGgubWluKDEsYi8xMDApKSk6bC5fc2V0Vm9sdW1lKGEuaWQsYy5tdXRlZCYmIWEubXV0ZWR8fGEubXV0ZWQ/MDpiKTthLl9pTy52b2x1bWU9YjtlfHwoYS52b2x1bWU9YixhLm9wdGlvbnMudm9sdW1lPWIpO3JldHVybiBhfTt0aGlzLm11dGU9ZnVuY3Rpb24oKXthLm11dGVkPSEwO2EuaXNIVE1MNT9hLl9hJiYoYS5fYS5tdXRlZD0hMCk6bC5fc2V0Vm9sdW1lKGEuaWQsMCk7cmV0dXJuIGF9O3RoaXMudW5tdXRlPWZ1bmN0aW9uKCl7YS5tdXRlZD0hMTt2YXIgYj1hLl9pTy52b2x1bWUhPT1rO2EuaXNIVE1MNT9hLl9hJiYoYS5fYS5tdXRlZD0hMSk6bC5fc2V0Vm9sdW1lKGEuaWQsXG5iP2EuX2lPLnZvbHVtZTphLm9wdGlvbnMudm9sdW1lKTtyZXR1cm4gYX07dGhpcy50b2dnbGVNdXRlPWZ1bmN0aW9uKCl7cmV0dXJuIGEubXV0ZWQ/YS51bm11dGUoKTphLm11dGUoKX07dGhpcy5vbnBvc2l0aW9uPXRoaXMub25Qb3NpdGlvbj1mdW5jdGlvbihiLGMsZSl7cC5wdXNoKHtwb3NpdGlvbjpwYXJzZUludChiLDEwKSxtZXRob2Q6YyxzY29wZTplIT09az9lOmEsZmlyZWQ6ITF9KTtyZXR1cm4gYX07dGhpcy5jbGVhck9uUG9zaXRpb249ZnVuY3Rpb24oYSxiKXt2YXIgYzthPXBhcnNlSW50KGEsMTApO2lmKGlzTmFOKGEpKXJldHVybiExO2ZvcihjPTA7YzxwLmxlbmd0aDtjKyspaWYoYT09PXBbY10ucG9zaXRpb24mJighYnx8Yj09PXBbY10ubWV0aG9kKSlwW2NdLmZpcmVkJiZ1LS0scC5zcGxpY2UoYywxKX07dGhpcy5fcHJvY2Vzc09uUG9zaXRpb249ZnVuY3Rpb24oKXt2YXIgYixjO2I9cC5sZW5ndGg7aWYoIWJ8fCFhLnBsYXlTdGF0ZXx8dT49YilyZXR1cm4hMTtmb3IoYi09XG4xOzA8PWI7Yi0tKWM9cFtiXSwhYy5maXJlZCYmYS5wb3NpdGlvbj49Yy5wb3NpdGlvbiYmKGMuZmlyZWQ9ITAsdSsrLGMubWV0aG9kLmFwcGx5KGMuc2NvcGUsW2MucG9zaXRpb25dKSk7cmV0dXJuITB9O3RoaXMuX3Jlc2V0T25Qb3NpdGlvbj1mdW5jdGlvbihhKXt2YXIgYixjO2I9cC5sZW5ndGg7aWYoIWIpcmV0dXJuITE7Zm9yKGItPTE7MDw9YjtiLS0pYz1wW2JdLGMuZmlyZWQmJmE8PWMucG9zaXRpb24mJihjLmZpcmVkPSExLHUtLSk7cmV0dXJuITB9O3k9ZnVuY3Rpb24oKXt2YXIgYj1hLl9pTyxjPWIuZnJvbSxlPWIudG8sZCxmO2Y9ZnVuY3Rpb24oKXthLmNsZWFyT25Qb3NpdGlvbihlLGYpO2Euc3RvcCgpfTtkPWZ1bmN0aW9uKCl7aWYobnVsbCE9PWUmJiFpc05hTihlKSlhLm9uUG9zaXRpb24oZSxmKX07bnVsbCE9PWMmJiFpc05hTihjKSYmKGIucG9zaXRpb249YyxiLm11bHRpU2hvdD0hMSxkKCkpO3JldHVybiBifTtxPWZ1bmN0aW9uKCl7dmFyIGIsYz1hLl9pTy5vbnBvc2l0aW9uO1xuaWYoYylmb3IoYiBpbiBjKWlmKGMuaGFzT3duUHJvcGVydHkoYikpYS5vblBvc2l0aW9uKHBhcnNlSW50KGIsMTApLGNbYl0pfTt4PWZ1bmN0aW9uKCl7dmFyIGIsYz1hLl9pTy5vbnBvc2l0aW9uO2lmKGMpZm9yKGIgaW4gYyljLmhhc093blByb3BlcnR5KGIpJiZhLmNsZWFyT25Qb3NpdGlvbihwYXJzZUludChiLDEwKSl9O249ZnVuY3Rpb24oKXthLmlzSFRNTDUmJlJhKGEpfTtnPWZ1bmN0aW9uKCl7YS5pc0hUTUw1JiZTYShhKX07Zj1mdW5jdGlvbihiKXtifHwocD1bXSx1PTApO3M9ITE7YS5faGFzVGltZXI9bnVsbDthLl9hPW51bGw7YS5faHRtbDVfY2FucGxheT0hMTthLmJ5dGVzTG9hZGVkPW51bGw7YS5ieXRlc1RvdGFsPW51bGw7YS5kdXJhdGlvbj1hLl9pTyYmYS5faU8uZHVyYXRpb24/YS5faU8uZHVyYXRpb246bnVsbDthLmR1cmF0aW9uRXN0aW1hdGU9bnVsbDthLmJ1ZmZlcmVkPVtdO2EuZXFEYXRhPVtdO2EuZXFEYXRhLmxlZnQ9W107YS5lcURhdGEucmlnaHQ9W107XG5hLmZhaWx1cmVzPTA7YS5pc0J1ZmZlcmluZz0hMTthLmluc3RhbmNlT3B0aW9ucz17fTthLmluc3RhbmNlQ291bnQ9MDthLmxvYWRlZD0hMTthLm1ldGFkYXRhPXt9O2EucmVhZHlTdGF0ZT0wO2EubXV0ZWQ9ITE7YS5wYXVzZWQ9ITE7YS5wZWFrRGF0YT17bGVmdDowLHJpZ2h0OjB9O2Eud2F2ZWZvcm1EYXRhPXtsZWZ0OltdLHJpZ2h0OltdfTthLnBsYXlTdGF0ZT0wO2EucG9zaXRpb249bnVsbDthLmlkMz17fX07ZigpO3RoaXMuX29uVGltZXI9ZnVuY3Rpb24oYil7dmFyIGMsZj0hMSxoPXt9O2lmKGEuX2hhc1RpbWVyfHxiKXtpZihhLl9hJiYoYnx8KDA8YS5wbGF5U3RhdGV8fDE9PT1hLnJlYWR5U3RhdGUpJiYhYS5wYXVzZWQpKWM9YS5fZ2V0X2h0bWw1X2R1cmF0aW9uKCksYyE9PWUmJihlPWMsYS5kdXJhdGlvbj1jLGY9ITApLGEuZHVyYXRpb25Fc3RpbWF0ZT1hLmR1cmF0aW9uLGM9MUUzKmEuX2EuY3VycmVudFRpbWV8fDAsYyE9PWQmJihkPWMsZj0hMCksKGZ8fGIpJiZhLl93aGlsZXBsYXlpbmcoYyxcbmgsaCxoLGgpO3JldHVybiBmfX07dGhpcy5fZ2V0X2h0bWw1X2R1cmF0aW9uPWZ1bmN0aW9uKCl7dmFyIGI9YS5faU87cmV0dXJuKGI9YS5fYSYmYS5fYS5kdXJhdGlvbj8xRTMqYS5fYS5kdXJhdGlvbjpiJiZiLmR1cmF0aW9uP2IuZHVyYXRpb246bnVsbCkmJiFpc05hTihiKSYmSW5maW5pdHkhPT1iP2I6bnVsbH07dGhpcy5fYXBwbHlfbG9vcD1mdW5jdGlvbihhLGIpe2EubG9vcD0xPGI/XCJsb29wXCI6XCJcIn07dGhpcy5fc2V0dXBfaHRtbDU9ZnVuY3Rpb24oYil7Yj13KGEuX2lPLGIpO3ZhciBjPUE/S2E6YS5fYSxlPWRlY29kZVVSSShiLnVybCksZDtBP2U9PT1kZWNvZGVVUkkoQ2EpJiYoZD0hMCk6ZT09PWRlY29kZVVSSSh2KSYmKGQ9ITApO2lmKGMpe2lmKGMuX3MpaWYoQSljLl9zJiYoYy5fcy5wbGF5U3RhdGUmJiFkKSYmYy5fcy5zdG9wKCk7ZWxzZSBpZighQSYmZT09PWRlY29kZVVSSSh2KSlyZXR1cm4gYS5fYXBwbHlfbG9vcChjLGIubG9vcHMpLGM7ZHx8KHYmJmYoITEpLGMuc3JjPVxuYi51cmwsQ2E9dj1hLnVybD1iLnVybCxjLl9jYWxsZWRfbG9hZD0hMSl9ZWxzZSBiLmF1dG9Mb2FkfHxiLmF1dG9QbGF5PyhhLl9hPW5ldyBBdWRpbyhiLnVybCksYS5fYS5sb2FkKCkpOmEuX2E9RWEmJjEwPm9wZXJhLnZlcnNpb24oKT9uZXcgQXVkaW8obnVsbCk6bmV3IEF1ZGlvLGM9YS5fYSxjLl9jYWxsZWRfbG9hZD0hMSxBJiYoS2E9Yyk7YS5pc0hUTUw1PSEwO2EuX2E9YztjLl9zPWE7aCgpO2EuX2FwcGx5X2xvb3AoYyxiLmxvb3BzKTtiLmF1dG9Mb2FkfHxiLmF1dG9QbGF5P2EubG9hZCgpOihjLmF1dG9idWZmZXI9ITEsYy5wcmVsb2FkPVwiYXV0b1wiKTtyZXR1cm4gY307aD1mdW5jdGlvbigpe2lmKGEuX2EuX2FkZGVkX2V2ZW50cylyZXR1cm4hMTt2YXIgYjthLl9hLl9hZGRlZF9ldmVudHM9ITA7Zm9yKGIgaW4gQilCLmhhc093blByb3BlcnR5KGIpJiZhLl9hJiZhLl9hLmFkZEV2ZW50TGlzdGVuZXIoYixCW2JdLCExKTtyZXR1cm4hMH07Sj1mdW5jdGlvbigpe3ZhciBiO2EuX2EuX2FkZGVkX2V2ZW50cz1cbiExO2ZvcihiIGluIEIpQi5oYXNPd25Qcm9wZXJ0eShiKSYmYS5fYSYmYS5fYS5yZW1vdmVFdmVudExpc3RlbmVyKGIsQltiXSwhMSl9O3RoaXMuX29ubG9hZD1mdW5jdGlvbihiKXt2YXIgYz0hIWJ8fCFhLmlzSFRNTDUmJjg9PT1tJiZhLmR1cmF0aW9uO2EubG9hZGVkPWM7YS5yZWFkeVN0YXRlPWM/MzoyO2EuX29uYnVmZmVyY2hhbmdlKDApO2EuX2lPLm9ubG9hZCYmZ2EoYSxmdW5jdGlvbigpe2EuX2lPLm9ubG9hZC5hcHBseShhLFtjXSl9KTtyZXR1cm4hMH07dGhpcy5fb25idWZmZXJjaGFuZ2U9ZnVuY3Rpb24oYil7aWYoMD09PWEucGxheVN0YXRlfHxiJiZhLmlzQnVmZmVyaW5nfHwhYiYmIWEuaXNCdWZmZXJpbmcpcmV0dXJuITE7YS5pc0J1ZmZlcmluZz0xPT09YjthLl9pTy5vbmJ1ZmZlcmNoYW5nZSYmYS5faU8ub25idWZmZXJjaGFuZ2UuYXBwbHkoYSk7cmV0dXJuITB9O3RoaXMuX29uc3VzcGVuZD1mdW5jdGlvbigpe2EuX2lPLm9uc3VzcGVuZCYmYS5faU8ub25zdXNwZW5kLmFwcGx5KGEpO1xucmV0dXJuITB9O3RoaXMuX29uZmFpbHVyZT1mdW5jdGlvbihiLGMsZSl7YS5mYWlsdXJlcysrO2lmKGEuX2lPLm9uZmFpbHVyZSYmMT09PWEuZmFpbHVyZXMpYS5faU8ub25mYWlsdXJlKGEsYixjLGUpfTt0aGlzLl9vbmZpbmlzaD1mdW5jdGlvbigpe3ZhciBiPWEuX2lPLm9uZmluaXNoO2EuX29uYnVmZmVyY2hhbmdlKDApO2EuX3Jlc2V0T25Qb3NpdGlvbigwKTthLmluc3RhbmNlQ291bnQmJihhLmluc3RhbmNlQ291bnQtLSxhLmluc3RhbmNlQ291bnR8fCh4KCksYS5wbGF5U3RhdGU9MCxhLnBhdXNlZD0hMSxhLmluc3RhbmNlQ291bnQ9MCxhLmluc3RhbmNlT3B0aW9ucz17fSxhLl9pTz17fSxnKCksYS5pc0hUTUw1JiYoYS5wb3NpdGlvbj0wKSksKCFhLmluc3RhbmNlQ291bnR8fGEuX2lPLm11bHRpU2hvdEV2ZW50cykmJmImJmdhKGEsZnVuY3Rpb24oKXtiLmFwcGx5KGEpfSkpfTt0aGlzLl93aGlsZWxvYWRpbmc9ZnVuY3Rpb24oYixjLGUsZCl7dmFyIGY9YS5faU87YS5ieXRlc0xvYWRlZD1cbmI7YS5ieXRlc1RvdGFsPWM7YS5kdXJhdGlvbj1NYXRoLmZsb29yKGUpO2EuYnVmZmVyTGVuZ3RoPWQ7YS5kdXJhdGlvbkVzdGltYXRlPSFhLmlzSFRNTDUmJiFmLmlzTW92aWVTdGFyP2YuZHVyYXRpb24/YS5kdXJhdGlvbj5mLmR1cmF0aW9uP2EuZHVyYXRpb246Zi5kdXJhdGlvbjpwYXJzZUludChhLmJ5dGVzVG90YWwvYS5ieXRlc0xvYWRlZCphLmR1cmF0aW9uLDEwKTphLmR1cmF0aW9uO2EuaXNIVE1MNXx8KGEuYnVmZmVyZWQ9W3tzdGFydDowLGVuZDphLmR1cmF0aW9ufV0pOygzIT09YS5yZWFkeVN0YXRlfHxhLmlzSFRNTDUpJiZmLndoaWxlbG9hZGluZyYmZi53aGlsZWxvYWRpbmcuYXBwbHkoYSl9O3RoaXMuX3doaWxlcGxheWluZz1mdW5jdGlvbihiLGMsZSxkLGYpe3ZhciBoPWEuX2lPO2lmKGlzTmFOKGIpfHxudWxsPT09YilyZXR1cm4hMTthLnBvc2l0aW9uPU1hdGgubWF4KDAsYik7YS5fcHJvY2Vzc09uUG9zaXRpb24oKTshYS5pc0hUTUw1JiY4PG0mJihoLnVzZVBlYWtEYXRhJiZcbihjIT09ayYmYykmJihhLnBlYWtEYXRhPXtsZWZ0OmMubGVmdFBlYWsscmlnaHQ6Yy5yaWdodFBlYWt9KSxoLnVzZVdhdmVmb3JtRGF0YSYmKGUhPT1rJiZlKSYmKGEud2F2ZWZvcm1EYXRhPXtsZWZ0OmUuc3BsaXQoXCIsXCIpLHJpZ2h0OmQuc3BsaXQoXCIsXCIpfSksaC51c2VFUURhdGEmJihmIT09ayYmZiYmZi5sZWZ0RVEpJiYoYj1mLmxlZnRFUS5zcGxpdChcIixcIiksYS5lcURhdGE9YixhLmVxRGF0YS5sZWZ0PWIsZi5yaWdodEVRIT09ayYmZi5yaWdodEVRJiYoYS5lcURhdGEucmlnaHQ9Zi5yaWdodEVRLnNwbGl0KFwiLFwiKSkpKTsxPT09YS5wbGF5U3RhdGUmJighYS5pc0hUTUw1JiYoOD09PW0mJiFhLnBvc2l0aW9uJiZhLmlzQnVmZmVyaW5nKSYmYS5fb25idWZmZXJjaGFuZ2UoMCksaC53aGlsZXBsYXlpbmcmJmgud2hpbGVwbGF5aW5nLmFwcGx5KGEpKTtyZXR1cm4hMH07dGhpcy5fb25jYXB0aW9uZGF0YT1mdW5jdGlvbihiKXthLmNhcHRpb25kYXRhPWI7YS5faU8ub25jYXB0aW9uZGF0YSYmXG5hLl9pTy5vbmNhcHRpb25kYXRhLmFwcGx5KGEsW2JdKX07dGhpcy5fb25tZXRhZGF0YT1mdW5jdGlvbihiLGMpe3ZhciBlPXt9LGQsZjtkPTA7Zm9yKGY9Yi5sZW5ndGg7ZDxmO2QrKyllW2JbZF1dPWNbZF07YS5tZXRhZGF0YT1lO2EuX2lPLm9ubWV0YWRhdGEmJmEuX2lPLm9ubWV0YWRhdGEuYXBwbHkoYSl9O3RoaXMuX29uaWQzPWZ1bmN0aW9uKGIsYyl7dmFyIGU9W10sZCxmO2Q9MDtmb3IoZj1iLmxlbmd0aDtkPGY7ZCsrKWVbYltkXV09Y1tkXTthLmlkMz13KGEuaWQzLGUpO2EuX2lPLm9uaWQzJiZhLl9pTy5vbmlkMy5hcHBseShhKX07dGhpcy5fb25jb25uZWN0PWZ1bmN0aW9uKGIpe2I9MT09PWI7aWYoYS5jb25uZWN0ZWQ9YilhLmZhaWx1cmVzPTAscihhLmlkKSYmKGEuZ2V0QXV0b1BsYXkoKT9hLnBsYXkoayxhLmdldEF1dG9QbGF5KCkpOmEuX2lPLmF1dG9Mb2FkJiZhLmxvYWQoKSksYS5faU8ub25jb25uZWN0JiZhLl9pTy5vbmNvbm5lY3QuYXBwbHkoYSxbYl0pfTt0aGlzLl9vbmRhdGFlcnJvcj1cbmZ1bmN0aW9uKGIpezA8YS5wbGF5U3RhdGUmJmEuX2lPLm9uZGF0YWVycm9yJiZhLl9pTy5vbmRhdGFlcnJvci5hcHBseShhKX19O3ZhPWZ1bmN0aW9uKCl7cmV0dXJuIG4uYm9keXx8bi5nZXRFbGVtZW50c0J5VGFnTmFtZShcImRpdlwiKVswXX07Vz1mdW5jdGlvbihiKXtyZXR1cm4gbi5nZXRFbGVtZW50QnlJZChiKX07dz1mdW5jdGlvbihiLGUpe3ZhciBkPWJ8fHt9LGEsZjthPWU9PT1rP2MuZGVmYXVsdE9wdGlvbnM6ZTtmb3IoZiBpbiBhKWEuaGFzT3duUHJvcGVydHkoZikmJmRbZl09PT1rJiYoZFtmXT1cIm9iamVjdFwiIT09dHlwZW9mIGFbZl18fG51bGw9PT1hW2ZdP2FbZl06dyhkW2ZdLGFbZl0pKTtyZXR1cm4gZH07Z2E9ZnVuY3Rpb24oYixjKXshYi5pc0hUTUw1JiY4PT09bT9nLnNldFRpbWVvdXQoYywwKTpjKCl9O1g9e29ucmVhZHk6MSxvbnRpbWVvdXQ6MSxkZWZhdWx0T3B0aW9uczoxLGZsYXNoOU9wdGlvbnM6MSxtb3ZpZVN0YXJPcHRpb25zOjF9O29hPWZ1bmN0aW9uKGIsXG5lKXt2YXIgZCxhPSEwLGY9ZSE9PWssaD1jLnNldHVwT3B0aW9ucztmb3IoZCBpbiBiKWlmKGIuaGFzT3duUHJvcGVydHkoZCkpaWYoXCJvYmplY3RcIiE9PXR5cGVvZiBiW2RdfHxudWxsPT09YltkXXx8YltkXWluc3RhbmNlb2YgQXJyYXl8fGJbZF1pbnN0YW5jZW9mIFJlZ0V4cClmJiZYW2VdIT09az9jW2VdW2RdPWJbZF06aFtkXSE9PWs/KGMuc2V0dXBPcHRpb25zW2RdPWJbZF0sY1tkXT1iW2RdKTpYW2RdPT09az9hPSExOmNbZF1pbnN0YW5jZW9mIEZ1bmN0aW9uP2NbZF0uYXBwbHkoYyxiW2RdaW5zdGFuY2VvZiBBcnJheT9iW2RdOltiW2RdXSk6Y1tkXT1iW2RdO2Vsc2UgaWYoWFtkXT09PWspYT0hMTtlbHNlIHJldHVybiBvYShiW2RdLGQpO3JldHVybiBhfTt0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihhKXthPWZiLmNhbGwoYSk7dmFyIGI9YS5sZW5ndGg7ZD8oYVsxXT1cIm9uXCIrYVsxXSwzPGImJmEucG9wKCkpOjM9PT1iJiZhLnB1c2goITEpO3JldHVybiBhfWZ1bmN0aW9uIGMoYixcbmUpe3ZhciBrPWIuc2hpZnQoKSxnPVthW2VdXTtpZihkKWtbZ10oYlswXSxiWzFdKTtlbHNlIGtbZ10uYXBwbHkoayxiKX12YXIgZD1nLmF0dGFjaEV2ZW50LGE9e2FkZDpkP1wiYXR0YWNoRXZlbnRcIjpcImFkZEV2ZW50TGlzdGVuZXJcIixyZW1vdmU6ZD9cImRldGFjaEV2ZW50XCI6XCJyZW1vdmVFdmVudExpc3RlbmVyXCJ9O3JldHVybnthZGQ6ZnVuY3Rpb24oKXtjKGIoYXJndW1lbnRzKSxcImFkZFwiKX0scmVtb3ZlOmZ1bmN0aW9uKCl7YyhiKGFyZ3VtZW50cyksXCJyZW1vdmVcIil9fX0oKTtCPXthYm9ydDpxKGZ1bmN0aW9uKCl7fSksY2FucGxheTpxKGZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5fcyxjO2lmKGIuX2h0bWw1X2NhbnBsYXkpcmV0dXJuITA7Yi5faHRtbDVfY2FucGxheT0hMDtiLl9vbmJ1ZmZlcmNoYW5nZSgwKTtjPWIuX2lPLnBvc2l0aW9uIT09ayYmIWlzTmFOKGIuX2lPLnBvc2l0aW9uKT9iLl9pTy5wb3NpdGlvbi8xRTM6bnVsbDtpZihiLnBvc2l0aW9uJiZ0aGlzLmN1cnJlbnRUaW1lIT09XG5jKXRyeXt0aGlzLmN1cnJlbnRUaW1lPWN9Y2F0Y2goZCl7fWIuX2lPLl9vbmNhbnBsYXkmJmIuX2lPLl9vbmNhbnBsYXkoKX0pLGNhbnBsYXl0aHJvdWdoOnEoZnVuY3Rpb24oKXt2YXIgYj10aGlzLl9zO2IubG9hZGVkfHwoYi5fb25idWZmZXJjaGFuZ2UoMCksYi5fd2hpbGVsb2FkaW5nKGIuYnl0ZXNMb2FkZWQsYi5ieXRlc1RvdGFsLGIuX2dldF9odG1sNV9kdXJhdGlvbigpKSxiLl9vbmxvYWQoITApKX0pLGVuZGVkOnEoZnVuY3Rpb24oKXt0aGlzLl9zLl9vbmZpbmlzaCgpfSksZXJyb3I6cShmdW5jdGlvbigpe3RoaXMuX3MuX29ubG9hZCghMSl9KSxsb2FkZWRkYXRhOnEoZnVuY3Rpb24oKXt2YXIgYj10aGlzLl9zOyFiLl9sb2FkZWQmJiFpYSYmKGIuZHVyYXRpb249Yi5fZ2V0X2h0bWw1X2R1cmF0aW9uKCkpfSksbG9hZGVkbWV0YWRhdGE6cShmdW5jdGlvbigpe30pLGxvYWRzdGFydDpxKGZ1bmN0aW9uKCl7dGhpcy5fcy5fb25idWZmZXJjaGFuZ2UoMSl9KSxwbGF5OnEoZnVuY3Rpb24oKXt0aGlzLl9zLl9vbmJ1ZmZlcmNoYW5nZSgwKX0pLFxucGxheWluZzpxKGZ1bmN0aW9uKCl7dGhpcy5fcy5fb25idWZmZXJjaGFuZ2UoMCl9KSxwcm9ncmVzczpxKGZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMuX3MsZCxhLGY9MCxmPWIudGFyZ2V0LmJ1ZmZlcmVkO2Q9Yi5sb2FkZWR8fDA7dmFyIGg9Yi50b3RhbHx8MTtjLmJ1ZmZlcmVkPVtdO2lmKGYmJmYubGVuZ3RoKXtkPTA7Zm9yKGE9Zi5sZW5ndGg7ZDxhO2QrKyljLmJ1ZmZlcmVkLnB1c2goe3N0YXJ0OjFFMypmLnN0YXJ0KGQpLGVuZDoxRTMqZi5lbmQoZCl9KTtmPTFFMyooZi5lbmQoMCktZi5zdGFydCgwKSk7ZD1NYXRoLm1pbigxLGYvKDFFMypiLnRhcmdldC5kdXJhdGlvbikpfWlzTmFOKGQpfHwoYy5fb25idWZmZXJjaGFuZ2UoMCksYy5fd2hpbGVsb2FkaW5nKGQsaCxjLl9nZXRfaHRtbDVfZHVyYXRpb24oKSksZCYmKGgmJmQ9PT1oKSYmQi5jYW5wbGF5dGhyb3VnaC5jYWxsKHRoaXMsYikpfSkscmF0ZWNoYW5nZTpxKGZ1bmN0aW9uKCl7fSksc3VzcGVuZDpxKGZ1bmN0aW9uKGIpe3ZhciBjPVxudGhpcy5fcztCLnByb2dyZXNzLmNhbGwodGhpcyxiKTtjLl9vbnN1c3BlbmQoKX0pLHN0YWxsZWQ6cShmdW5jdGlvbigpe30pLHRpbWV1cGRhdGU6cShmdW5jdGlvbigpe3RoaXMuX3MuX29uVGltZXIoKX0pLHdhaXRpbmc6cShmdW5jdGlvbigpe3RoaXMuX3MuX29uYnVmZmVyY2hhbmdlKDEpfSl9O2VhPWZ1bmN0aW9uKGIpe3JldHVybiFifHwhYi50eXBlJiYhYi51cmwmJiFiLnNlcnZlclVSTD8hMTpiLnNlcnZlclVSTHx8Yi50eXBlJiZWKGIudHlwZSk/ITE6Yi50eXBlP1Qoe3R5cGU6Yi50eXBlfSk6VCh7dXJsOmIudXJsfSl8fGMuaHRtbDVPbmx5fHxiLnVybC5tYXRjaCgvZGF0YVxcOi9pKX07ZmE9ZnVuY3Rpb24oYil7dmFyIGU7YiYmKGU9aWE/XCJhYm91dDpibGFua1wiOmMuaHRtbDUuY2FuUGxheVR5cGUoXCJhdWRpby93YXZcIik/XCJkYXRhOmF1ZGlvL3dhdmU7YmFzZTY0LC9Va2xHUmlZQUFBQlhRVlpGWm0xMElCQUFBQUFCQUFFQVJLd0FBSWhZQVFBQ0FCQUFaR0YwWVFJQUFBRC8vd1xceDNkXFx4M2RcIjpcblwiYWJvdXQ6YmxhbmtcIixiLnNyYz1lLHZvaWQgMCE9PWIuX2NhbGxlZF91bmxvYWQmJihiLl9jYWxsZWRfbG9hZD0hMSkpO0EmJihDYT1udWxsKTtyZXR1cm4gZX07VD1mdW5jdGlvbihiKXtpZighYy51c2VIVE1MNUF1ZGlvfHwhYy5oYXNIVE1MNSlyZXR1cm4hMTt2YXIgZT1iLnVybHx8bnVsbDtiPWIudHlwZXx8bnVsbDt2YXIgZD1jLmF1ZGlvRm9ybWF0cyxhO2lmKGImJmMuaHRtbDVbYl0hPT1rKXJldHVybiBjLmh0bWw1W2JdJiYhVihiKTtpZigheil7ej1bXTtmb3IoYSBpbiBkKWQuaGFzT3duUHJvcGVydHkoYSkmJih6LnB1c2goYSksZFthXS5yZWxhdGVkJiYoej16LmNvbmNhdChkW2FdLnJlbGF0ZWQpKSk7ej1SZWdFeHAoXCJcXFxcLihcIit6LmpvaW4oXCJ8XCIpK1wiKShcXFxcPy4qKT8kXCIsXCJpXCIpfWE9ZT9lLnRvTG93ZXJDYXNlKCkubWF0Y2goeik6bnVsbDshYXx8IWEubGVuZ3RoP2ImJihlPWIuaW5kZXhPZihcIjtcIiksYT0oLTEhPT1lP2Iuc3Vic3RyKDAsZSk6Yikuc3Vic3RyKDYpKTpcbmE9YVsxXTthJiZjLmh0bWw1W2FdIT09az9lPWMuaHRtbDVbYV0mJiFWKGEpOihiPVwiYXVkaW8vXCIrYSxlPWMuaHRtbDUuY2FuUGxheVR5cGUoe3R5cGU6Yn0pLGU9KGMuaHRtbDVbYV09ZSkmJmMuaHRtbDVbYl0mJiFWKGIpKTtyZXR1cm4gZX07V2E9ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGEpe3ZhciBiLGQ9Yj0hMTtpZighZXx8XCJmdW5jdGlvblwiIT09dHlwZW9mIGUuY2FuUGxheVR5cGUpcmV0dXJuIGI7aWYoYSBpbnN0YW5jZW9mIEFycmF5KXtnPTA7Zm9yKGI9YS5sZW5ndGg7ZzxiO2crKylpZihjLmh0bWw1W2FbZ11dfHxlLmNhblBsYXlUeXBlKGFbZ10pLm1hdGNoKGMuaHRtbDVUZXN0KSlkPSEwLGMuaHRtbDVbYVtnXV09ITAsYy5mbGFzaFthW2ddXT0hIWFbZ10ubWF0Y2goYmIpO2I9ZH1lbHNlIGE9ZSYmXCJmdW5jdGlvblwiPT09dHlwZW9mIGUuY2FuUGxheVR5cGU/ZS5jYW5QbGF5VHlwZShhKTohMSxiPSEoIWF8fCFhLm1hdGNoKGMuaHRtbDVUZXN0KSk7cmV0dXJuIGJ9aWYoIWMudXNlSFRNTDVBdWRpb3x8XG4hYy5oYXNIVE1MNSlyZXR1cm4gdT1jLmh0bWw1LnVzaW5nRmxhc2g9ITAsITE7dmFyIGU9QXVkaW8hPT1rP0VhJiYxMD5vcGVyYS52ZXJzaW9uKCk/bmV3IEF1ZGlvKG51bGwpOm5ldyBBdWRpbzpudWxsLGQsYSxmPXt9LGgsZztoPWMuYXVkaW9Gb3JtYXRzO2ZvcihkIGluIGgpaWYoaC5oYXNPd25Qcm9wZXJ0eShkKSYmKGE9XCJhdWRpby9cIitkLGZbZF09YihoW2RdLnR5cGUpLGZbYV09ZltkXSxkLm1hdGNoKGJiKT8oYy5mbGFzaFtkXT0hMCxjLmZsYXNoW2FdPSEwKTooYy5mbGFzaFtkXT0hMSxjLmZsYXNoW2FdPSExKSxoW2RdJiZoW2RdLnJlbGF0ZWQpKWZvcihnPWhbZF0ucmVsYXRlZC5sZW5ndGgtMTswPD1nO2ctLSlmW1wiYXVkaW8vXCIraFtkXS5yZWxhdGVkW2ddXT1mW2RdLGMuaHRtbDVbaFtkXS5yZWxhdGVkW2ddXT1mW2RdLGMuZmxhc2hbaFtkXS5yZWxhdGVkW2ddXT1mW2RdO2YuY2FuUGxheVR5cGU9ZT9iOm51bGw7Yy5odG1sNT13KGMuaHRtbDUsZik7Yy5odG1sNS51c2luZ0ZsYXNoPVxuVmEoKTt1PWMuaHRtbDUudXNpbmdGbGFzaDtyZXR1cm4hMH07c2E9e307UD1mdW5jdGlvbigpe307YWE9ZnVuY3Rpb24oYil7OD09PW0mJigxPGIubG9vcHMmJmIuc3RyZWFtKSYmKGIuc3RyZWFtPSExKTtyZXR1cm4gYn07YmE9ZnVuY3Rpb24oYixjKXtpZihiJiYhYi51c2VQb2xpY3lGaWxlJiYoYi5vbmlkM3x8Yi51c2VQZWFrRGF0YXx8Yi51c2VXYXZlZm9ybURhdGF8fGIudXNlRVFEYXRhKSliLnVzZVBvbGljeUZpbGU9ITA7cmV0dXJuIGJ9O2xhPWZ1bmN0aW9uKCl7cmV0dXJuITF9O1BhPWZ1bmN0aW9uKGIpe2Zvcih2YXIgYyBpbiBiKWIuaGFzT3duUHJvcGVydHkoYykmJlwiZnVuY3Rpb25cIj09PXR5cGVvZiBiW2NdJiYoYltjXT1sYSl9O3hhPWZ1bmN0aW9uKGIpe2I9PT1rJiYoYj0hMSk7KHl8fGIpJiZjLmRpc2FibGUoYil9O1FhPWZ1bmN0aW9uKGIpe3ZhciBlPW51bGw7aWYoYilpZihiLm1hdGNoKC9cXC5zd2YoXFw/LiopPyQvaSkpe2lmKGU9Yi5zdWJzdHIoYi50b0xvd2VyQ2FzZSgpLmxhc3RJbmRleE9mKFwiLnN3Zj9cIikrXG40KSlyZXR1cm4gYn1lbHNlIGIubGFzdEluZGV4T2YoXCIvXCIpIT09Yi5sZW5ndGgtMSYmKGIrPVwiL1wiKTtiPShiJiYtMSE9PWIubGFzdEluZGV4T2YoXCIvXCIpP2Iuc3Vic3RyKDAsYi5sYXN0SW5kZXhPZihcIi9cIikrMSk6XCIuL1wiKStjLm1vdmllVVJMO2Mubm9TV0ZDYWNoZSYmKGIrPVwiP3RzXFx4M2RcIisobmV3IERhdGUpLmdldFRpbWUoKSk7cmV0dXJuIGJ9O3JhPWZ1bmN0aW9uKCl7bT1wYXJzZUludChjLmZsYXNoVmVyc2lvbiwxMCk7OCE9PW0mJjkhPT1tJiYoYy5mbGFzaFZlcnNpb249bT04KTt2YXIgYj1jLmRlYnVnTW9kZXx8Yy5kZWJ1Z0ZsYXNoP1wiX2RlYnVnLnN3ZlwiOlwiLnN3ZlwiO2MudXNlSFRNTDVBdWRpbyYmKCFjLmh0bWw1T25seSYmYy5hdWRpb0Zvcm1hdHMubXA0LnJlcXVpcmVkJiY5Pm0pJiYoYy5mbGFzaFZlcnNpb249bT05KTtjLnZlcnNpb249Yy52ZXJzaW9uTnVtYmVyKyhjLmh0bWw1T25seT9cIiAoSFRNTDUtb25seSBtb2RlKVwiOjk9PT1tP1wiIChBUzMvRmxhc2ggOSlcIjpcblwiIChBUzIvRmxhc2ggOClcIik7ODxtPyhjLmRlZmF1bHRPcHRpb25zPXcoYy5kZWZhdWx0T3B0aW9ucyxjLmZsYXNoOU9wdGlvbnMpLGMuZmVhdHVyZXMuYnVmZmVyaW5nPSEwLGMuZGVmYXVsdE9wdGlvbnM9dyhjLmRlZmF1bHRPcHRpb25zLGMubW92aWVTdGFyT3B0aW9ucyksYy5maWxlUGF0dGVybnMuZmxhc2g5PVJlZ0V4cChcIlxcXFwuKG1wM3xcIitlYi5qb2luKFwifFwiKStcIikoXFxcXD8uKik/JFwiLFwiaVwiKSxjLmZlYXR1cmVzLm1vdmllU3Rhcj0hMCk6Yy5mZWF0dXJlcy5tb3ZpZVN0YXI9ITE7Yy5maWxlUGF0dGVybj1jLmZpbGVQYXR0ZXJuc1s4IT09bT9cImZsYXNoOVwiOlwiZmxhc2g4XCJdO2MubW92aWVVUkw9KDg9PT1tP1wic291bmRtYW5hZ2VyMi5zd2ZcIjpcInNvdW5kbWFuYWdlcjJfZmxhc2g5LnN3ZlwiKS5yZXBsYWNlKFwiLnN3ZlwiLGIpO2MuZmVhdHVyZXMucGVha0RhdGE9Yy5mZWF0dXJlcy53YXZlZm9ybURhdGE9Yy5mZWF0dXJlcy5lcURhdGE9ODxtfTtPYT1mdW5jdGlvbihiLGMpe2lmKCFsKXJldHVybiExO1xubC5fc2V0UG9sbGluZyhiLGMpfTt3YT1mdW5jdGlvbigpe307cj10aGlzLmdldFNvdW5kQnlJZDtJPWZ1bmN0aW9uKCl7dmFyIGI9W107Yy5kZWJ1Z01vZGUmJmIucHVzaChcInNtMl9kZWJ1Z1wiKTtjLmRlYnVnRmxhc2gmJmIucHVzaChcImZsYXNoX2RlYnVnXCIpO2MudXNlSGlnaFBlcmZvcm1hbmNlJiZiLnB1c2goXCJoaWdoX3BlcmZvcm1hbmNlXCIpO3JldHVybiBiLmpvaW4oXCIgXCIpfTt6YT1mdW5jdGlvbigpe1AoXCJmYkhhbmRsZXJcIik7dmFyIGI9Yy5nZXRNb3ZpZVBlcmNlbnQoKSxlPXt0eXBlOlwiRkxBU0hCTE9DS1wifTtpZihjLmh0bWw1T25seSlyZXR1cm4hMTtjLm9rKCk/Yy5vTUMmJihjLm9NQy5jbGFzc05hbWU9W0koKSxcIm1vdmllQ29udGFpbmVyXCIsXCJzd2ZfbG9hZGVkXCIrKGMuZGlkRmxhc2hCbG9jaz9cIiBzd2ZfdW5ibG9ja2VkXCI6XCJcIildLmpvaW4oXCIgXCIpKToodSYmKGMub01DLmNsYXNzTmFtZT1JKCkrXCIgbW92aWVDb250YWluZXIgXCIrKG51bGw9PT1iP1wic3dmX3RpbWVkb3V0XCI6XG5cInN3Zl9lcnJvclwiKSksYy5kaWRGbGFzaEJsb2NrPSEwLEQoe3R5cGU6XCJvbnRpbWVvdXRcIixpZ25vcmVJbml0OiEwLGVycm9yOmV9KSxIKGUpKX07cGE9ZnVuY3Rpb24oYixjLGQpe3hbYl09PT1rJiYoeFtiXT1bXSk7eFtiXS5wdXNoKHttZXRob2Q6YyxzY29wZTpkfHxudWxsLGZpcmVkOiExfSl9O0Q9ZnVuY3Rpb24oYil7Ynx8KGI9e3R5cGU6Yy5vaygpP1wib25yZWFkeVwiOlwib250aW1lb3V0XCJ9KTtpZighcCYmYiYmIWIuaWdub3JlSW5pdHx8XCJvbnRpbWVvdXRcIj09PWIudHlwZSYmKGMub2soKXx8eSYmIWIuaWdub3JlSW5pdCkpcmV0dXJuITE7dmFyIGU9e3N1Y2Nlc3M6YiYmYi5pZ25vcmVJbml0P2Mub2soKToheX0sZD1iJiZiLnR5cGU/eFtiLnR5cGVdfHxbXTpbXSxhPVtdLGYsZT1bZV0saD11JiYhYy5vaygpO2IuZXJyb3ImJihlWzBdLmVycm9yPWIuZXJyb3IpO2I9MDtmb3IoZj1kLmxlbmd0aDtiPGY7YisrKSEwIT09ZFtiXS5maXJlZCYmYS5wdXNoKGRbYl0pO2lmKGEubGVuZ3RoKXtiPVxuMDtmb3IoZj1hLmxlbmd0aDtiPGY7YisrKWFbYl0uc2NvcGU/YVtiXS5tZXRob2QuYXBwbHkoYVtiXS5zY29wZSxlKTphW2JdLm1ldGhvZC5hcHBseSh0aGlzLGUpLGh8fChhW2JdLmZpcmVkPSEwKX1yZXR1cm4hMH07RT1mdW5jdGlvbigpe2cuc2V0VGltZW91dChmdW5jdGlvbigpe2MudXNlRmxhc2hCbG9jayYmemEoKTtEKCk7XCJmdW5jdGlvblwiPT09dHlwZW9mIGMub25sb2FkJiZjLm9ubG9hZC5hcHBseShnKTtjLndhaXRGb3JXaW5kb3dMb2FkJiZ0LmFkZChnLFwibG9hZFwiLEUpfSwxKX07RGE9ZnVuY3Rpb24oKXtpZih2IT09aylyZXR1cm4gdjt2YXIgYj0hMSxjPW5hdmlnYXRvcixkPWMucGx1Z2lucyxhLGY9Zy5BY3RpdmVYT2JqZWN0O2lmKGQmJmQubGVuZ3RoKShjPWMubWltZVR5cGVzKSYmKGNbXCJhcHBsaWNhdGlvbi94LXNob2Nrd2F2ZS1mbGFzaFwiXSYmY1tcImFwcGxpY2F0aW9uL3gtc2hvY2t3YXZlLWZsYXNoXCJdLmVuYWJsZWRQbHVnaW4mJmNbXCJhcHBsaWNhdGlvbi94LXNob2Nrd2F2ZS1mbGFzaFwiXS5lbmFibGVkUGx1Z2luLmRlc2NyaXB0aW9uKSYmXG4oYj0hMCk7ZWxzZSBpZihmIT09ayYmIXMubWF0Y2goL01TQXBwSG9zdC9pKSl7dHJ5e2E9bmV3IGYoXCJTaG9ja3dhdmVGbGFzaC5TaG9ja3dhdmVGbGFzaFwiKX1jYXRjaChoKXthPW51bGx9Yj0hIWF9cmV0dXJuIHY9Yn07VmE9ZnVuY3Rpb24oKXt2YXIgYixlLGQ9Yy5hdWRpb0Zvcm1hdHM7aWYoaGEmJnMubWF0Y2goL29zICgxfDJ8M18wfDNfMSkvaSkpYy5oYXNIVE1MNT0hMSxjLmh0bWw1T25seT0hMCxjLm9NQyYmKGMub01DLnN0eWxlLmRpc3BsYXk9XCJub25lXCIpO2Vsc2UgaWYoYy51c2VIVE1MNUF1ZGlvJiYoIWMuaHRtbDV8fCFjLmh0bWw1LmNhblBsYXlUeXBlKSljLmhhc0hUTUw1PSExO2lmKGMudXNlSFRNTDVBdWRpbyYmYy5oYXNIVE1MNSlmb3IoZSBpbiBTPSEwLGQpaWYoZC5oYXNPd25Qcm9wZXJ0eShlKSYmZFtlXS5yZXF1aXJlZClpZihjLmh0bWw1LmNhblBsYXlUeXBlKGRbZV0udHlwZSkpe2lmKGMucHJlZmVyRmxhc2gmJihjLmZsYXNoW2VdfHxjLmZsYXNoW2RbZV0udHlwZV0pKWI9XG4hMH1lbHNlIFM9ITEsYj0hMDtjLmlnbm9yZUZsYXNoJiYoYj0hMSxTPSEwKTtjLmh0bWw1T25seT1jLmhhc0hUTUw1JiZjLnVzZUhUTUw1QXVkaW8mJiFiO3JldHVybiFjLmh0bWw1T25seX07ZGE9ZnVuY3Rpb24oYil7dmFyIGUsZCxhPTA7aWYoYiBpbnN0YW5jZW9mIEFycmF5KXtlPTA7Zm9yKGQ9Yi5sZW5ndGg7ZTxkO2UrKylpZihiW2VdaW5zdGFuY2VvZiBPYmplY3Qpe2lmKGMuY2FuUGxheU1JTUUoYltlXS50eXBlKSl7YT1lO2JyZWFrfX1lbHNlIGlmKGMuY2FuUGxheVVSTChiW2VdKSl7YT1lO2JyZWFrfWJbYV0udXJsJiYoYlthXT1iW2FdLnVybCk7Yj1iW2FdfXJldHVybiBifTtSYT1mdW5jdGlvbihiKXtiLl9oYXNUaW1lcnx8KGIuX2hhc1RpbWVyPSEwLCFGYSYmYy5odG1sNVBvbGxpbmdJbnRlcnZhbCYmKG51bGw9PT1SJiYwPT09Y2EmJihSPXNldEludGVydmFsKFRhLGMuaHRtbDVQb2xsaW5nSW50ZXJ2YWwpKSxjYSsrKSl9O1NhPWZ1bmN0aW9uKGIpe2IuX2hhc1RpbWVyJiZcbihiLl9oYXNUaW1lcj0hMSwhRmEmJmMuaHRtbDVQb2xsaW5nSW50ZXJ2YWwmJmNhLS0pfTtUYT1mdW5jdGlvbigpe3ZhciBiO2lmKG51bGwhPT1SJiYhY2EpcmV0dXJuIGNsZWFySW50ZXJ2YWwoUiksUj1udWxsLCExO2ZvcihiPWMuc291bmRJRHMubGVuZ3RoLTE7MDw9YjtiLS0pYy5zb3VuZHNbYy5zb3VuZElEc1tiXV0uaXNIVE1MNSYmYy5zb3VuZHNbYy5zb3VuZElEc1tiXV0uX2hhc1RpbWVyJiZjLnNvdW5kc1tjLnNvdW5kSURzW2JdXS5fb25UaW1lcigpfTtIPWZ1bmN0aW9uKGIpe2I9YiE9PWs/Yjp7fTtcImZ1bmN0aW9uXCI9PT10eXBlb2YgYy5vbmVycm9yJiZjLm9uZXJyb3IuYXBwbHkoZyxbe3R5cGU6Yi50eXBlIT09az9iLnR5cGU6bnVsbH1dKTtiLmZhdGFsIT09ayYmYi5mYXRhbCYmYy5kaXNhYmxlKCl9O1hhPWZ1bmN0aW9uKCl7aWYoISRhfHwhRGEoKSlyZXR1cm4hMTt2YXIgYj1jLmF1ZGlvRm9ybWF0cyxlLGQ7Zm9yKGQgaW4gYilpZihiLmhhc093blByb3BlcnR5KGQpJiZcbihcIm1wM1wiPT09ZHx8XCJtcDRcIj09PWQpKWlmKGMuaHRtbDVbZF09ITEsYltkXSYmYltkXS5yZWxhdGVkKWZvcihlPWJbZF0ucmVsYXRlZC5sZW5ndGgtMTswPD1lO2UtLSljLmh0bWw1W2JbZF0ucmVsYXRlZFtlXV09ITF9O3RoaXMuX3NldFNhbmRib3hUeXBlPWZ1bmN0aW9uKGIpe307dGhpcy5fZXh0ZXJuYWxJbnRlcmZhY2VPSz1mdW5jdGlvbihiKXtpZihjLnN3ZkxvYWRlZClyZXR1cm4hMTtjLnN3ZkxvYWRlZD0hMDtqYT0hMTskYSYmWGEoKTtzZXRUaW1lb3V0KG1hLEM/MTAwOjEpfTskPWZ1bmN0aW9uKGIsZSl7ZnVuY3Rpb24gZChhLGIpe3JldHVybidcXHgzY3BhcmFtIG5hbWVcXHgzZFwiJythKydcIiB2YWx1ZVxceDNkXCInK2IrJ1wiIC9cXHgzZSd9aWYoSyYmTClyZXR1cm4hMTtpZihjLmh0bWw1T25seSlyZXR1cm4gcmEoKSxjLm9NQz1XKGMubW92aWVJRCksbWEoKSxMPUs9ITAsITE7dmFyIGE9ZXx8Yy51cmwsZj1jLmFsdFVSTHx8YSxoPXZhKCksZz1JKCksbD1udWxsLGw9bi5nZXRFbGVtZW50c0J5VGFnTmFtZShcImh0bWxcIilbMF0sXG5tLHAscSxsPWwmJmwuZGlyJiZsLmRpci5tYXRjaCgvcnRsL2kpO2I9Yj09PWs/Yy5pZDpiO3JhKCk7Yy51cmw9UWEoSGE/YTpmKTtlPWMudXJsO2Mud21vZGU9IWMud21vZGUmJmMudXNlSGlnaFBlcmZvcm1hbmNlP1widHJhbnNwYXJlbnRcIjpjLndtb2RlO2lmKG51bGwhPT1jLndtb2RlJiYocy5tYXRjaCgvbXNpZSA4L2kpfHwhQyYmIWMudXNlSGlnaFBlcmZvcm1hbmNlKSYmbmF2aWdhdG9yLnBsYXRmb3JtLm1hdGNoKC93aW4zMnx3aW42NC9pKSlVYS5wdXNoKHNhLnNwY1dtb2RlKSxjLndtb2RlPW51bGw7aD17bmFtZTpiLGlkOmIsc3JjOmUscXVhbGl0eTpcImhpZ2hcIixhbGxvd1NjcmlwdEFjY2VzczpjLmFsbG93U2NyaXB0QWNjZXNzLGJnY29sb3I6Yy5iZ0NvbG9yLHBsdWdpbnNwYWdlOmNiK1wid3d3Lm1hY3JvbWVkaWEuY29tL2dvL2dldGZsYXNocGxheWVyXCIsdGl0bGU6XCJKUy9GbGFzaCBhdWRpbyBjb21wb25lbnQgKFNvdW5kTWFuYWdlciAyKVwiLHR5cGU6XCJhcHBsaWNhdGlvbi94LXNob2Nrd2F2ZS1mbGFzaFwiLFxud21vZGU6Yy53bW9kZSxoYXNQcmlvcml0eTpcInRydWVcIn07Yy5kZWJ1Z0ZsYXNoJiYoaC5GbGFzaFZhcnM9XCJkZWJ1Z1xceDNkMVwiKTtjLndtb2RlfHxkZWxldGUgaC53bW9kZTtpZihDKWE9bi5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHA9WydcXHgzY29iamVjdCBpZFxceDNkXCInK2IrJ1wiIGRhdGFcXHgzZFwiJytlKydcIiB0eXBlXFx4M2RcIicraC50eXBlKydcIiB0aXRsZVxceDNkXCInK2gudGl0bGUrJ1wiIGNsYXNzaWRcXHgzZFwiY2xzaWQ6RDI3Q0RCNkUtQUU2RC0xMWNmLTk2QjgtNDQ0NTUzNTQwMDAwXCIgY29kZWJhc2VcXHgzZFwiJytjYisnZG93bmxvYWQubWFjcm9tZWRpYS5jb20vcHViL3Nob2Nrd2F2ZS9jYWJzL2ZsYXNoL3N3Zmxhc2guY2FiI3ZlcnNpb25cXHgzZDYsMCw0MCwwXCJcXHgzZScsZChcIm1vdmllXCIsZSksZChcIkFsbG93U2NyaXB0QWNjZXNzXCIsYy5hbGxvd1NjcmlwdEFjY2VzcyksZChcInF1YWxpdHlcIixoLnF1YWxpdHkpLGMud21vZGU/ZChcIndtb2RlXCIsYy53bW9kZSk6XCJcIixkKFwiYmdjb2xvclwiLFxuYy5iZ0NvbG9yKSxkKFwiaGFzUHJpb3JpdHlcIixcInRydWVcIiksYy5kZWJ1Z0ZsYXNoP2QoXCJGbGFzaFZhcnNcIixoLkZsYXNoVmFycyk6XCJcIixcIlxceDNjL29iamVjdFxceDNlXCJdLmpvaW4oXCJcIik7ZWxzZSBmb3IobSBpbiBhPW4uY3JlYXRlRWxlbWVudChcImVtYmVkXCIpLGgpaC5oYXNPd25Qcm9wZXJ0eShtKSYmYS5zZXRBdHRyaWJ1dGUobSxoW21dKTt3YSgpO2c9SSgpO2lmKGg9dmEoKSlpZihjLm9NQz1XKGMubW92aWVJRCl8fG4uY3JlYXRlRWxlbWVudChcImRpdlwiKSxjLm9NQy5pZClxPWMub01DLmNsYXNzTmFtZSxjLm9NQy5jbGFzc05hbWU9KHE/cStcIiBcIjpcIm1vdmllQ29udGFpbmVyXCIpKyhnP1wiIFwiK2c6XCJcIiksYy5vTUMuYXBwZW5kQ2hpbGQoYSksQyYmKG09Yy5vTUMuYXBwZW5kQ2hpbGQobi5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKSxtLmNsYXNzTmFtZT1cInNtMi1vYmplY3QtYm94XCIsbS5pbm5lckhUTUw9cCksTD0hMDtlbHNle2Mub01DLmlkPWMubW92aWVJRDtjLm9NQy5jbGFzc05hbWU9XG5cIm1vdmllQ29udGFpbmVyIFwiK2c7bT1nPW51bGw7Yy51c2VGbGFzaEJsb2NrfHwoYy51c2VIaWdoUGVyZm9ybWFuY2U/Zz17cG9zaXRpb246XCJmaXhlZFwiLHdpZHRoOlwiOHB4XCIsaGVpZ2h0OlwiOHB4XCIsYm90dG9tOlwiMHB4XCIsbGVmdDpcIjBweFwiLG92ZXJmbG93OlwiaGlkZGVuXCJ9OihnPXtwb3NpdGlvbjpcImFic29sdXRlXCIsd2lkdGg6XCI2cHhcIixoZWlnaHQ6XCI2cHhcIix0b3A6XCItOTk5OXB4XCIsbGVmdDpcIi05OTk5cHhcIn0sbCYmKGcubGVmdD1NYXRoLmFicyhwYXJzZUludChnLmxlZnQsMTApKStcInB4XCIpKSk7Z2ImJihjLm9NQy5zdHlsZS56SW5kZXg9MUU0KTtpZighYy5kZWJ1Z0ZsYXNoKWZvcihxIGluIGcpZy5oYXNPd25Qcm9wZXJ0eShxKSYmKGMub01DLnN0eWxlW3FdPWdbcV0pO3RyeXtDfHxjLm9NQy5hcHBlbmRDaGlsZChhKSxoLmFwcGVuZENoaWxkKGMub01DKSxDJiYobT1jLm9NQy5hcHBlbmRDaGlsZChuLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLG0uY2xhc3NOYW1lPVwic20yLW9iamVjdC1ib3hcIixcbm0uaW5uZXJIVE1MPXApLEw9ITB9Y2F0Y2gocil7dGhyb3cgRXJyb3IoUChcImRvbUVycm9yXCIpK1wiIFxcblwiK3IudG9TdHJpbmcoKSk7fX1yZXR1cm4gSz0hMH07Wj1mdW5jdGlvbigpe2lmKGMuaHRtbDVPbmx5KXJldHVybiAkKCksITE7aWYobHx8IWMudXJsKXJldHVybiExO2w9Yy5nZXRNb3ZpZShjLmlkKTtsfHwoTz8oQz9jLm9NQy5pbm5lckhUTUw9eWE6Yy5vTUMuYXBwZW5kQ2hpbGQoTyksTz1udWxsLEs9ITApOiQoYy5pZCxjLnVybCksbD1jLmdldE1vdmllKGMuaWQpKTtcImZ1bmN0aW9uXCI9PT10eXBlb2YgYy5vbmluaXRtb3ZpZSYmc2V0VGltZW91dChjLm9uaW5pdG1vdmllLDEpO3JldHVybiEwfTtGPWZ1bmN0aW9uKCl7c2V0VGltZW91dChOYSwxRTMpfTtxYT1mdW5jdGlvbigpe2cuc2V0VGltZW91dChmdW5jdGlvbigpe2Muc2V0dXAoe3ByZWZlckZsYXNoOiExfSkucmVib290KCk7Yy5kaWRGbGFzaEJsb2NrPSEwO2MuYmVnaW5EZWxheWVkSW5pdCgpfSwxKX07TmE9ZnVuY3Rpb24oKXt2YXIgYixcbmU9ITE7aWYoIWMudXJsfHxRKXJldHVybiExO1E9ITA7dC5yZW1vdmUoZyxcImxvYWRcIixGKTtpZih2JiZqYSYmIUdhKXJldHVybiExO3B8fChiPWMuZ2V0TW92aWVQZXJjZW50KCksMDxiJiYxMDA+YiYmKGU9ITApKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yj1jLmdldE1vdmllUGVyY2VudCgpO2lmKGUpcmV0dXJuIFE9ITEsZy5zZXRUaW1lb3V0KEYsMSksITE7IXAmJmFiJiYobnVsbD09PWI/Yy51c2VGbGFzaEJsb2NrfHwwPT09Yy5mbGFzaExvYWRUaW1lb3V0P2MudXNlRmxhc2hCbG9jayYmemEoKTohYy51c2VGbGFzaEJsb2NrJiZTP3FhKCk6RCh7dHlwZTpcIm9udGltZW91dFwiLGlnbm9yZUluaXQ6ITAsZXJyb3I6e3R5cGU6XCJJTklUX0ZMQVNIQkxPQ0tcIn19KTowIT09Yy5mbGFzaExvYWRUaW1lb3V0JiYoIWMudXNlRmxhc2hCbG9jayYmUz9xYSgpOnhhKCEwKSkpfSxjLmZsYXNoTG9hZFRpbWVvdXQpfTtZPWZ1bmN0aW9uKCl7aWYoR2F8fCFqYSlyZXR1cm4gdC5yZW1vdmUoZyxcImZvY3VzXCIsXG5ZKSwhMDtHYT1hYj0hMDtRPSExO0YoKTt0LnJlbW92ZShnLFwiZm9jdXNcIixZKTtyZXR1cm4hMH07TT1mdW5jdGlvbihiKXtpZihwKXJldHVybiExO2lmKGMuaHRtbDVPbmx5KXJldHVybiBwPSEwLEUoKSwhMDt2YXIgZT0hMCxkO2lmKCFjLnVzZUZsYXNoQmxvY2t8fCFjLmZsYXNoTG9hZFRpbWVvdXR8fGMuZ2V0TW92aWVQZXJjZW50KCkpcD0hMDtkPXt0eXBlOiF2JiZ1P1wiTk9fRkxBU0hcIjpcIklOSVRfVElNRU9VVFwifTtpZih5fHxiKWMudXNlRmxhc2hCbG9jayYmYy5vTUMmJihjLm9NQy5jbGFzc05hbWU9SSgpK1wiIFwiKyhudWxsPT09Yy5nZXRNb3ZpZVBlcmNlbnQoKT9cInN3Zl90aW1lZG91dFwiOlwic3dmX2Vycm9yXCIpKSxEKHt0eXBlOlwib250aW1lb3V0XCIsZXJyb3I6ZCxpZ25vcmVJbml0OiEwfSksSChkKSxlPSExO3l8fChjLndhaXRGb3JXaW5kb3dMb2FkJiYhbmE/dC5hZGQoZyxcImxvYWRcIixFKTpFKCkpO3JldHVybiBlfTtNYT1mdW5jdGlvbigpe3ZhciBiLGU9Yy5zZXR1cE9wdGlvbnM7XG5mb3IoYiBpbiBlKWUuaGFzT3duUHJvcGVydHkoYikmJihjW2JdPT09az9jW2JdPWVbYl06Y1tiXSE9PWVbYl0mJihjLnNldHVwT3B0aW9uc1tiXT1jW2JdKSl9O21hPWZ1bmN0aW9uKCl7aWYocClyZXR1cm4hMTtpZihjLmh0bWw1T25seSlyZXR1cm4gcHx8KHQucmVtb3ZlKGcsXCJsb2FkXCIsYy5iZWdpbkRlbGF5ZWRJbml0KSxjLmVuYWJsZWQ9ITAsTSgpKSwhMDtaKCk7dHJ5e2wuX2V4dGVybmFsSW50ZXJmYWNlVGVzdCghMSksT2EoITAsYy5mbGFzaFBvbGxpbmdJbnRlcnZhbHx8KGMudXNlSGlnaFBlcmZvcm1hbmNlPzEwOjUwKSksYy5kZWJ1Z01vZGV8fGwuX2Rpc2FibGVEZWJ1ZygpLGMuZW5hYmxlZD0hMCxjLmh0bWw1T25seXx8dC5hZGQoZyxcInVubG9hZFwiLGxhKX1jYXRjaChiKXtyZXR1cm4gSCh7dHlwZTpcIkpTX1RPX0ZMQVNIX0VYQ0VQVElPTlwiLGZhdGFsOiEwfSkseGEoITApLE0oKSwhMX1NKCk7dC5yZW1vdmUoZyxcImxvYWRcIixjLmJlZ2luRGVsYXllZEluaXQpO3JldHVybiEwfTtcbkc9ZnVuY3Rpb24oKXtpZihOKXJldHVybiExO049ITA7TWEoKTt3YSgpOyF2JiZjLmhhc0hUTUw1JiZjLnNldHVwKHt1c2VIVE1MNUF1ZGlvOiEwLHByZWZlckZsYXNoOiExfSk7V2EoKTshdiYmdSYmKFVhLnB1c2goc2EubmVlZEZsYXNoKSxjLnNldHVwKHtmbGFzaExvYWRUaW1lb3V0OjF9KSk7bi5yZW1vdmVFdmVudExpc3RlbmVyJiZuLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsRywhMSk7WigpO3JldHVybiEwfTtCYT1mdW5jdGlvbigpe1wiY29tcGxldGVcIj09PW4ucmVhZHlTdGF0ZSYmKEcoKSxuLmRldGFjaEV2ZW50KFwib25yZWFkeXN0YXRlY2hhbmdlXCIsQmEpKTtyZXR1cm4hMH07dWE9ZnVuY3Rpb24oKXtuYT0hMDt0LnJlbW92ZShnLFwibG9hZFwiLHVhKX07dGE9ZnVuY3Rpb24oKXtpZihGYSYmKGMuc2V0dXBPcHRpb25zLnVzZUhUTUw1QXVkaW89ITAsYy5zZXR1cE9wdGlvbnMucHJlZmVyRmxhc2g9ITEsaGF8fFphJiYhcy5tYXRjaCgvYW5kcm9pZFxcczJcXC4zL2kpKSloYSYmXG4oYy5pZ25vcmVGbGFzaD0hMCksQT0hMH07dGEoKTtEYSgpO3QuYWRkKGcsXCJmb2N1c1wiLFkpO3QuYWRkKGcsXCJsb2FkXCIsRik7dC5hZGQoZyxcImxvYWRcIix1YSk7bi5hZGRFdmVudExpc3RlbmVyP24uYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIixHLCExKTpuLmF0dGFjaEV2ZW50P24uYXR0YWNoRXZlbnQoXCJvbnJlYWR5c3RhdGVjaGFuZ2VcIixCYSk6SCh7dHlwZTpcIk5PX0RPTTJfRVZFTlRTXCIsZmF0YWw6ITB9KX12YXIga2E9bnVsbDtpZih2b2lkIDA9PT1nLlNNMl9ERUZFUnx8IVNNMl9ERUZFUilrYT1uZXcgVTtnLlNvdW5kTWFuYWdlcj1VO2cuc291bmRNYW5hZ2VyPWthfSkod2luZG93KTsiXX0=
